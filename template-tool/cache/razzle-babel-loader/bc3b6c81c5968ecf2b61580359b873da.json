{"ast":null,"code":"import _extends from \"/app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"/app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"patternImageUrl\"];\n\nvar _jsxFileName = \"/app/src/components/DesignTool/UPolygon.tsx\",\n    _this = this;\n\nvar __jsx = React.createElement;\nimport React, { useRef } from 'react';\nimport { RegularPolygon } from 'react-konva';\nimport useImage from 'use-image';\n\nvar UPolygon = function UPolygon(_ref) {\n  var shapeProps = _ref.shapeProps,\n      onSelect = _ref.onSelect,\n      onChange = _ref.onChange,\n      onEditClick = _ref.onEditClick;\n  var shapeRef = useRef(null);\n\n  var patternImageUrl = shapeProps.patternImageUrl,\n      restProps = _objectWithoutProperties(shapeProps, _excluded);\n\n  var _useImage = useImage(patternImageUrl || null),\n      _useImage2 = _slicedToArray(_useImage, 1),\n      image = _useImage2[0];\n\n  return __jsx(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, __jsx(RegularPolygon, _extends({\n    ref: shapeRef,\n    onClick: onSelect,\n    onTap: onSelect,\n    onDblClick: onEditClick,\n    onDblTap: onEditClick,\n    draggable: true,\n    strokeScaleEnabled: false,\n    onDragEnd: function onDragEnd(e) {\n      onChange(_objectSpread(_objectSpread({}, shapeProps), {}, {\n        x: e.target.x(),\n        y: e.target.y()\n      }));\n    },\n    onTransformEnd: function onTransformEnd(e) {\n      onChange(_objectSpread(_objectSpread({}, shapeProps), {}, {\n        scaleX: e.target.attrs.scaleX,\n        scaleY: e.target.attrs.scaleY\n      }));\n    }\n  }, restProps, {\n    fillPatternImage: image,\n    fillPatternOffsetX: 0,\n    fillPatternOffsetY: 0,\n    fillPatternScaleX: 0.1,\n    fillPatternScaleY: 0.1,\n    fillPatternRepeat: \"no-repeat\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default UPolygon;","map":{"version":3,"sources":["/app/src/components/DesignTool/UPolygon.tsx"],"names":["React","useRef","RegularPolygon","useImage","UPolygon","shapeProps","onSelect","onChange","onEditClick","shapeRef","patternImageUrl","restProps","image","e","x","target","y","scaleX","attrs","scaleY"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,SAASC,cAAT,QAA+B,aAA/B;AACA,OAAOC,QAAP,MAAqB,WAArB;;AASA,IAAMC,QAAyB,GAAG,SAA5BA,QAA4B,OAAqD;AAAA,MAAlDC,UAAkD,QAAlDA,UAAkD;AAAA,MAAtCC,QAAsC,QAAtCA,QAAsC;AAAA,MAA5BC,QAA4B,QAA5BA,QAA4B;AAAA,MAAlBC,WAAkB,QAAlBA,WAAkB;AAEnF,MAAMC,QAAQ,GAAGR,MAAM,CAAC,IAAD,CAAvB;;AAEA,MAAQS,eAAR,GAA0CL,UAA1C,CAAQK,eAAR;AAAA,MAA4BC,SAA5B,4BAA0CN,UAA1C;;AACA,kBAAgBF,QAAQ,CAACO,eAAe,IAAI,IAApB,CAAxB;AAAA;AAAA,MAAOE,KAAP;;AAEA,SACI,MAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,cAAD;AACI,IAAA,GAAG,EAAEH,QADT;AAEI,IAAA,OAAO,EAAEH,QAFb;AAGI,IAAA,KAAK,EAAEA,QAHX;AAII,IAAA,UAAU,EAAEE,WAJhB;AAKI,IAAA,QAAQ,EAAEA,WALd;AAMI,IAAA,SAAS,MANb;AAOI,IAAA,kBAAkB,EAAE,KAPxB;AAQI,IAAA,SAAS,EAAE,mBAACK,CAAD,EAAO;AACdN,MAAAA,QAAQ,iCACDF,UADC;AAEJS,QAAAA,CAAC,EAAED,CAAC,CAACE,MAAF,CAASD,CAAT,EAFC;AAGJE,QAAAA,CAAC,EAAEH,CAAC,CAACE,MAAF,CAASC,CAAT;AAHC,SAAR;AAKH,KAdL;AAeI,IAAA,cAAc,EAAE,wBAACH,CAAD,EAAO;AACnBN,MAAAA,QAAQ,iCACDF,UADC;AAEJY,QAAAA,MAAM,EAAEJ,CAAC,CAACE,MAAF,CAASG,KAAT,CAAeD,MAFnB;AAGJE,QAAAA,MAAM,EAAEN,CAAC,CAACE,MAAF,CAASG,KAAT,CAAeC;AAHnB,SAAR;AAKH;AArBL,KAsBQR,SAtBR;AAuBI,IAAA,gBAAgB,EAAEC,KAvBtB;AAwBI,IAAA,kBAAkB,EAAE,CAxBxB;AAyBI,IAAA,kBAAkB,EAAE,CAzBxB;AA0BI,IAAA,iBAAiB,EAAE,GA1BvB;AA2BI,IAAA,iBAAiB,EAAE,GA3BvB;AA4BI,IAAA,iBAAiB,EAAC,WA5BtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADJ,CADJ;AAkCH,CAzCD;;AA0CA,eAAeR,QAAf","sourcesContent":["import React, { useRef } from 'react';\r\nimport { RegularPolygon } from 'react-konva';\r\nimport useImage from 'use-image';\r\n\r\ninterface Props {\r\n    shapeProps: any\r\n    onSelect: any\r\n    onChange: any\r\n    onEditClick: any\r\n}\r\n\r\nconst UPolygon: React.FC<Props> = ({ shapeProps, onSelect, onChange, onEditClick }) => {\r\n\r\n    const shapeRef = useRef(null)\r\n\r\n    const { patternImageUrl, ...restProps } = shapeProps\r\n    const [image] = useImage(patternImageUrl || null)\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <RegularPolygon\r\n                ref={shapeRef}\r\n                onClick={onSelect}\r\n                onTap={onSelect}\r\n                onDblClick={onEditClick}\r\n                onDblTap={onEditClick}\r\n                draggable\r\n                strokeScaleEnabled={false}\r\n                onDragEnd={(e) => {\r\n                    onChange({\r\n                        ...shapeProps,\r\n                        x: e.target.x(),\r\n                        y: e.target.y(),\r\n                    });\r\n                }}\r\n                onTransformEnd={(e) => {\r\n                    onChange({\r\n                        ...shapeProps,\r\n                        scaleX: e.target.attrs.scaleX,\r\n                        scaleY: e.target.attrs.scaleY,\r\n                    });\r\n                }}\r\n                {...restProps}\r\n                fillPatternImage={image}\r\n                fillPatternOffsetX={0}\r\n                fillPatternOffsetY={0}\r\n                fillPatternScaleX={0.1}\r\n                fillPatternScaleY={0.1}\r\n                fillPatternRepeat=\"no-repeat\"\r\n            />\r\n        </React.Fragment>\r\n    );\r\n};\r\nexport default UPolygon\r\n"]},"metadata":{},"sourceType":"module"}