{"version":3,"file":"1.ce3d1d595765cf37b75f.hot-update.js","sources":["webpack:///./src/components/Home/components/CategoryList/index.tsx","webpack:///./src/services/categoryService.ts"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useQuery } from 'react-query'\r\nimport { category_service } from '../../../../services/categoryService'\r\n\r\nconst CategoryList = () => {\r\n    const [newCategoryName, setNewCategoryName] = useState<string>(\"\")\r\n    const { data, error, isLoading } = useQuery<any, Error>(\"templates\", category_service.getAllCategories)\r\n    console.log({ data })\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <>\r\n                <p>Getting all templates ...</p>\r\n            </>\r\n        )\r\n    }\r\n\r\n    if (!!error) {\r\n        return (\r\n            <>\r\n                <p>{error.message}</p>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const handleAddCategory = () => {\r\n        console.log({ newCategoryName })\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-4 p-5\">\r\n            <span className=\"block\">Category 1</span>\r\n            <span className=\"block\">Category 2</span>\r\n            <span className=\"block\">Category 3</span>\r\n            <div className=\"w-full\">\r\n                <form className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                            Category name\r\n                        </label>\r\n                        <input\r\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                            id=\"username\"\r\n                            type=\"text\"\r\n                            placeholder=\"Enter category name\"\r\n                            value={newCategoryName}\r\n                            onChange={(e) => setNewCategoryName(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <button\r\n                            onClick={handleAddCategory}\r\n                            className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                            type=\"button\"\r\n                        >\r\n                            Add new Category\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n                <p className=\"text-center text-gray-500 text-xs\">\r\n                    &copy;2020 Acme Corp. All rights reserved.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CategoryList\r\n","const URL_ENDPOINTS = {\r\n    getAllCategoriesURL: \"https://polar-tor-04971.herokuapp.com/templatecategory\",\r\n    getCategoryByIdURL: \"https://polar-tor-04971.herokuapp.com/templatecategory\",\r\n    createCategoryURL: \"https://polar-tor-04971.herokuapp.com/templatecategory\",\r\n    updateCategoryByIdURL: \"https://polar-tor-04971.herokuapp.com/templatecategory\",\r\n    deleteCategoryByIdURL: \"https://polar-tor-04971.herokuapp.com/templatecategory\"\r\n}\r\n\r\nexport const category_service = {\r\n    getAllCategories,\r\n    addNewCategory,\r\n    getCategoryByID,\r\n    updateCategoryByID,\r\n    deleteCategoryByID\r\n}\r\n\r\nasync function getAllCategories() {\r\n    const response = await fetch(URL_ENDPOINTS.getAllCategoriesURL)\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while fetching Categories\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function addNewCategory(templateData: any) {\r\n    const response = await fetch(URL_ENDPOINTS.createCategoryURL, {\r\n        method: \"POST\",\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(templateData)\r\n    })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while adding new template\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function getCategoryByID(templateID: string | undefined) {\r\n    if (!templateID) return\r\n\r\n    const response = await fetch(`${URL_ENDPOINTS.getAllCategoriesURL}/${templateID}`)\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while fetching Category\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function updateCategoryByID(templateID: string, templateData: any) {\r\n\r\n    console.log({ JSON: JSON.stringify(templateData), templateData })\r\n\r\n    const response = await fetch(`${URL_ENDPOINTS.updateCategoryByIdURL}/${templateID}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(templateData)\r\n    })\r\n    console.log({ response })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while updating template\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function deleteCategoryByID(templateID: string) {\r\n    const response = await fetch(`${URL_ENDPOINTS.deleteCategoryByIdURL}/${templateID}`, {\r\n        method: \"DELETE\",\r\n    })\r\n    console.log({ response })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while delete template\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;;;;;;;;;;;;ACnEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AALA;AACA;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AADA;AAGA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;A","sourceRoot":""}