module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.e=function(){return Promise.resolve()},n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){process.nextTick((function(){throw e}))},n(n.s=28)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("sweetalert")},function(e,t){e.exports=require("react-konva")},function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return m}));const r={width:1200,height:630},a={name:"object",x:200,y:250,width:200,height:200,draggable:!0,type:"image"},o={name:"object",colorMap:{},type:"svg",x:100,y:200,width:100,height:100,draggable:!0},l={name:"object",x:150,y:150,width:100,stroke:"#000000",strokeWidth:4,height:100,fill:"#FF0000",draggable:!0,type:"rectangle"},i={name:"object",x:150,y:250,width:100,stroke:"#000000",strokeWidth:4,height:100,cornerRadius:10,fill:"#FF0000",draggable:!0,type:"rectangle"},s={name:"object",x:200,y:100,radius:50,stroke:"#000000",strokeWidth:4,fill:"#FF0000",draggable:!0,type:"circle"},c={name:"object",x:100,y:150,sides:6,stroke:"#000000",strokeWidth:4,radius:70,fill:"#FF0000",type:"polygon"},d={name:"object",x:20,y:200,stroke:"#000000",strokeWidth:4,fill:"#FF0000",points:[0,100,50,0,100,100],tension:0,closed:!0,type:"line"},u={name:"object",text:"New text",x:150,y:200,fontSize:20,draggable:!0,width:200,type:"text",fill:"#000000"},m=["Montserrat","Comfortaa","Euphoria Script","Josefin Sans","Oswald","Alfa Slab One","Bangers","Caveat","DM Sans","East Sea Dokdo","Homemade Apple","Kristi","Lobster Two","Maven Pro","Monoton","Playfair Display","Raleway","Roboto Slab","Shadows Into Light","Swanky and Moo Moo"]},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-error-boundary")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={home:"/",select_palette:"/selectPalette",design_tool:"/tool/:templateID",design_tool_noID:"/tool"}},function(e,t){e.exports=require("react-query")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n(0),a=n.n(r),o=n(16),l=n(3),i=a.a.createElement;const s={dimensions:{width:l.j.width,height:l.j.height},tags:[],palette:[{name:"primary",color:"#ff0000"},{name:"secondary",color:"#00ff00"},{name:"tertiary",color:"#0000ff"}],variations:[{name:"untitled",face:"",elements:[{id:"shapes_background",type:"rectangle",x:0,y:0,width:l.j.width,height:l.j.height,fillLinearGradientStartPoint:{x:0,y:0},fillLinearGradientEndPoint:{x:l.j.width,y:l.j.height},fillLinearGradientColorStops:[0,"#FFFFFF",1,"#FFFFFF"],draggable:!1}]}]},c=Object(r.createContext)(null);c.displayName="TemplateContext";const d=({children:e})=>{const[t,n,{goForward:r,goBack:a,stepNum:l,history:d}]=Object(o.useImmerState)(s);return i(c.Provider,{value:[t,n,{goForward:r,goBack:a,stepNum:l,history:d}]},e)}},function(e,t){e.exports=require("use-image")},function(e,t,n){"use strict";function r(e){return(new DOMParser).parseFromString(e,"image/svg+xml")}function a(e){return e.getAttribute("fill")}function o(e){var t=r(e).getElementsByTagName("*");const n=[];for(const e of t){const t=a(e);t&&-1===n.indexOf(t)&&n.push(t)}return n}function l(e){return"data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(e)))}function i(e,t){const n=r(e);var o=n.getElementsByTagName("*");for(const e of o){const n=a(e);t[n]&&e.setAttribute("fill",t[n])}return(new XMLSerializer).serializeToString(n)}function s(e){return new Promise((t,n)=>{try{var r=new FileReader;r.onload=function(e){var n=e.target.result,r=(new DOMParser).parseFromString(n,"image/svg+xml");t(r.documentElement.outerHTML)},r.readAsText(e[0])}catch(e){n(e)}})}n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s}))},function(e,t){e.exports=require("react-color")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7Il9pZCI6IjYxMWI5Y2MwZjEwNTJjMzU2YzM1Njk2ZiIsImVtYWlsIjoic3R5Z2lhbmxnZG9uaWNAZ21haWwuY29tIn0sImlhdCI6MTYyOTI4MjA5Nn0.PYOgPEwiLIyHI_22bjWEaPrykb-RzXKup9MRFzKZt_4",a="https://hyper-engage-staging.herokuapp.com/templatecategory",o="https://hyper-engage-staging.herokuapp.com/templatecategory",l="https://hyper-engage-staging.herokuapp.com/templatecategory",i="https://hyper-engage-staging.herokuapp.com/templatecategory",s={getAllCategories:async function(){const e=await fetch(`${a}?secret_token=${r}`);if(!e.ok)throw new Error("Error while fetching Categories");return e.json()},addNewCategory:async function(e){const t=await fetch(`${o}?secret_token=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error while adding new category");return t.json()},getCategoryByID:async function(e){if(!e)return;const t=await fetch(`${a}/${e}?secret_token=${r}`);if(!t.ok)throw new Error("Error while fetching Category");return t.json()},updateCategoryByID:async function(e,t){console.log({JSON:JSON.stringify(t),categoryData:t});const n=await fetch(`${l}/${e}?secret_token=${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log({response:n}),!n.ok)throw new Error("Error while updating category");return n.json()},deleteCategoryByID:async function(e){const t=await fetch(`${i}/${e}?secret_token=${r}`,{method:"DELETE"});if(console.log({response:t}),!t.ok)throw new Error("Error while delete category");return t.json()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));const r="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7Il9pZCI6IjYxMWI5Y2MwZjEwNTJjMzU2YzM1Njk2ZiIsImVtYWlsIjoic3R5Z2lhbmxnZG9uaWNAZ21haWwuY29tIn0sImlhdCI6MTYyOTI4MjA5Nn0.PYOgPEwiLIyHI_22bjWEaPrykb-RzXKup9MRFzKZt_4",a="https://hyper-engage-staging.herokuapp.com/template",o="https://hyper-engage-staging.herokuapp.com/template",l="https://hyper-engage-staging.herokuapp.com/template",i="https://hyper-engage-staging.herokuapp.com/template",s={getAllTemplates:async function(){const e=await fetch(`${a}?secret_token=${r}`);if(!e.ok)throw new Error("Error while fetching Templates");return e.json()},addNewTemplate:async function(e){const t=await fetch(`${o}?secret_token=${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log({response:t}),!t.ok)throw new Error("Error while adding new template");return t.json()},getTemplateByID:async function(e){if(!e)return;const t=await fetch(`${a}/${e}?secret_token=${r}`);if(!t.ok)throw new Error("Error while fetching Template");return t.json()},updateTemplateByID:async function(e,t){console.log({JSON:JSON.stringify(t),templateData:t});const n=await fetch(`${l}/${e}?secret_token=${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log({response:n}),!n.ok)throw new Error("Error while updating template");return n.json()},deleteTemplateByID:async function(e){const t=await fetch(`${i}/${e}?secret_token=${r}`,{method:"DELETE"});if(console.log({response:t}),!t.ok)throw new Error("Error while delete template");return t.json()}}},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>{if(e){let t=null==e?void 0:e.toLowerCase().split("_");for(let e=0;e<(null==t?void 0:t.length);e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return null==t?void 0:t.join(" ")}return console.log("no value to convert to titleCase"),e||""}},function(e,t){e.exports=require("@shrugsy/use-immer-state")},function(e,t,n){e.exports=n.p+"static/media/plus.cc6d96c4.svg"},function(e,t,n){"use strict";var r=n(0),a=n.n(r);const o=["onClick","startIcon","endIcon","error","helperText","className","label"];var l=a.a.createElement;function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const c=e=>{let{onClick:t,startIcon:n,endIcon:r,error:c,helperText:d,className:u,label:m}=e,f=s(e,o);return l(a.a.Fragment,null,l("div",{className:"mb-4 relative  "},l("label",{className:"text-jacksonsPurple"},m),l("br",null),l("input",i({},f,{className:u,style:{textIndent:n?"15px":""}})),l("img",{src:n,alt:"error",width:"18",className:n?" absolute left-0 top-0 mt-9 ml-2":"hidden"}),l("img",{onClick:t,src:r,alt:"error",width:"18",className:r?"absolute right-0 top-0 mt-9 mr-4  cursor-pointer ":"hidden"}),l("p",{className:d?"text-red text-sm pl-2 transition duration-500":"hidden"},d)))};t.a=Object(r.memo)(c)},function(e,t,n){"use strict";t.a=(e,t,n,r,a)=>{let o=new Blob([`<svg xmlns="${e}" fill="${n}" viewBox="${t}" stroke="${r}">${a}</svg>`],{type:"image/svg+xml"});return URL.createObjectURL(o)}},function(e,t){e.exports=require("use-file-upload")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var t=r(e,4),n=t[1],a=t[3];if(!a)return n;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(l," */"),s=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([i]).join("\n")}return[n].join("\n")}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var i=0;i<e.length;i++){var s=[].concat(e[i]);r&&a[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){e.exports=n.p+"static/media/chevron-down.c16040f3.svg"},function(e,t){e.exports=require("webfontloader")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("react-hook-form")},function(e,t,n){e.exports=n(29)},function(e,t,n){"use strict";n.r(t);var r=n(14),a=n.n(r);let o=n(33).default;const l=parseInt("4000");t.default=a()().use((e,t)=>o.handle(e,t)).listen(l,()=>{console.log("> App started http://localhost:"+l)})},function(e,t,n){"use strict";var r=n(22),a=n.n(r),o=n(23),l=n.n(o)()(a.a);l.push([e.i,"@tailwind base;\n\n@tailwind components;\n\n@tailwind utilities;\n","",{version:3,sources:["webpack://./node_modules/tailwindcss/tailwind.css"],names:[],mappings:"AAAA,cAAc;;AAEd,oBAAoB;;AAEpB,mBAAmB",sourcesContent:["@tailwind base;\n\n@tailwind components;\n\n@tailwind utilities;\n"],sourceRoot:""}])},function(e){e.exports=JSON.parse('{"1":{"js":["/static/js/1.27bbf022.chunk.js"],"map":["/static/js/1.27bbf022.chunk.js.map"],"chunks":[1]},"2":{"js":["/static/js/2.00ed587c.chunk.js"],"map":["/static/js/2.00ed587c.chunk.js.map"],"chunks":[2]},"3":{"js":["/static/js/3.a3fdf2e6.chunk.js"],"map":["/static/js/3.a3fdf2e6.chunk.js.map"],"chunks":[3]},"client":{"css":["/static/css/client.838bbeac.css"],"js":["/static/js/client.73467205.js"],"map":["/static/css/client.838bbeac.css.map","/static/js/client.73467205.js.map"],"chunks":[0]},"noentry":{"ico":["/favicon.ico"],"txt":["/robots.txt","/static/js/1.27bbf022.chunk.js.LICENSE.txt","/static/js/3.a3fdf2e6.chunk.js.LICENSE.txt","/static/js/client.73467205.js.LICENSE.txt"],"svg":["/static/media/chevron-down.c16040f3.svg","/static/media/plus.cc6d96c4.svg"]}}')},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAABICAYAAACqT5alAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGnSURBVHgB7ZpBTsJAFIYf0CIaF5adsAN3sKxHgCtwBd0pBzGepy5ZiruyE6/QhUbFqjhTgqmQtC6YCf37fwnJAEOmH319r+1r5fnldSkloiolo3TCTvrN1TgWRG5v3N8xQxodCqNDYXQojA6F0aEwOhRGh8LoOGKBTteRbreWOSeKvmV6b/4GhPE97J+7Mho1cucNBg3p983//8ZX8LyqTKex3AWL3LmnrZqE4aeYhEkLHSvC7VZVen1XvOb2co3DijrO68kcG1hZ5cSrie+7cnlx9Edaj8fXx9LrOckcG1gpS7PZKmkNhweJ9OP8K/n8TJWryWShXh8yUN/ZwIrwmkBJh2EsrfZq2QeVvedzs1l5E+PC72/LpBZH0XbPToe036wnY31iosuXaYwL63DVdDrZx+iTCnMbZ1pWQnotvQ+wDqNDYXQojA6F0aEwOhRGh8LoUBidCp+XBoePD6PDhnga3Smw1RHYFfpmf1ZrNnMPF01WM8zZ5kzh/zSx940gZ5udvB8HBZTOgkkrDZNWAWDS2oBJCx1eD6PDkEaHwuhQGJ3SCf8A3XF2UbLBHg0AAAAASUVORK5CYII="},function(e,t,n){"use strict";n.r(t),n.d(t,"renderApp",(function(){return y}));var r=n(14),a=n.n(r),o=n(0),l=n.n(o),i=n(21),s=n(4);var c=({children:e})=>{const{0:t,1:n}=Object(o.useState)(!1);return Object(o.useEffect)(()=>{n(!0)},[]),t?e:null},d=n(6),u=n(8),m=(n(30),l.a.createElement);const f=l.a.lazy(()=>Promise.resolve().then(n.bind(null,34))),p=l.a.lazy(()=>Promise.resolve().then(n.bind(null,36))),g=l.a.lazy(()=>Promise.resolve().then(n.bind(null,35)));var b=()=>m(s.Switch,null,m(c,null,m(u.c,null,m(s.Route,{exact:!0,path:d.a.home,render:()=>m(l.a.Suspense,{fallback:m("div",null,"Loading ...")},m(g,null))}),m(s.Route,{exact:!0,path:d.a.select_palette,render:()=>m(l.a.Suspense,{fallback:m("div",null,"Loading ...")},m(p,null))}),m(s.Route,{exact:!0,path:d.a.design_tool,render:()=>m(l.a.Suspense,{fallback:m("div",null,"Loading ...")},m(f,null))}),m(s.Route,{exact:!0,path:d.a.design_tool_noID,render:()=>m(l.a.Suspense,{fallback:m("div",null,"Loading ...")},m(f,null))})))),h=l.a.createElement;let v;v=n(31);const y=(e,t)=>{const n={},r=Object(i.renderToString)(h(s.StaticRouter,{context:n,location:e.url},h(b,null)));if(n.url)return{redirect:n.url};return{html:`<!doctype html>\n    <html lang="">\n    <head>\n        <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n        <meta charSet='utf-8' />\n        <title>Welcome to Razzle</title>\n        <meta name="viewport" content="width=device-width, initial-scale=1">\n        ${((e,t)=>e[t]&&e[t].css?e[t].css.map(e=>`<link rel="stylesheet" href="${e}">`).join(""):"")(v,"client")}\n    </head>\n    <body>\n        <div id="root">${r}</div>\n        ${((e,t,n="")=>e[t]&&e[t].js?e[t].js.map(e=>`<script src="${e}"${n}><\/script>`).join(""):"")(v,"client"," defer crossorigin")}\n    </body>\n  </html>`}},x=a()().disable("x-powered-by").use(a.a.static("build\\public")).get("/*",(e,t)=>{const{html:n="",redirect:r=!1}=y(e,t);r?t.redirect(r):t.send(n)});t.default=x},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(8),l=a.a.createElement;var i=({variations:e,variationIndex:t,setVariationIndex:n})=>l("div",{className:"flex"},e.map((e,r)=>l("p",{key:r,className:`${t===r?"text-red-100":"text-red-800"} block px-4 py-2 mr-1 ml-1 text-sm cursor-pointer rounded border border-gray-900 ${t===r?"bg-red-700 hover:bg-red-800":""}`,onClick:()=>n(r),role:"menuitem",tabIndex:-1},e.name))),s=n(16),c=a.a.createElement;var d=({handleSaveVariation:e,templateData:t})=>{const[n,r]=Object(s.useImmerState)({name:"untitled",face:"#FF0000"});return c("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},c("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},c("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),c("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),c("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},c("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},c("div",{className:""},c("label",null,"Name: "),c("input",{type:"text",placeholder:"Variation name",onChange:e=>r(t=>{t.name=e.target.value})}),c("div",null,"Current face: ",c("div",{className:"w-10 h-10 m-5 border border-black",style:{backgroundColor:n.face}})),c("p",null,"Select face: "),t.palette.map((e,t)=>c("div",{key:t,className:"inline-block"},c("div",{className:"w-10 h-10 m-5 border border-black",style:{backgroundColor:e.color},onClick:()=>r(t=>{t.face=e.color})}))))),c("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},c("button",{onClick:()=>e(n),type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Save")))))},u=n(1),m=n.n(u),f=n(17),p=n.n(f),g=n(18);const b=["isLoading","loadingProps","startIcon","endIcon","className","style","children"];var h=a.a.createElement;function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const x=e=>{let{isLoading:t,loadingProps:n,startIcon:r,endIcon:o,className:l,style:i,children:s}=e,c=y(e,b);return h(a.a.Fragment,null,h("button",v({className:l||"w-full  justify-center place-items-center flex focus:outline-none relative ",style:{paddingLeft:r?"30px":""}},c),t?h("svg",v({className:"animate-spin w-6 ",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white"},n),h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})):s),h("img",{src:r,alt:"error",width:"20",className:r?"absolute    ml-2 ":"hidden"}),h("img",{src:o,alt:"error",width:"20",className:o?"absolute right-0 top-0 mt-3.5 mr-4  cursor-pointer ":"hidden"}))};var w=Object(r.memo)(x),O=n(19),j=n(24),k=n.n(j);var N=n(15);const S=["label","value","onChange","dataArray","width"];var C=a.a.createElement;function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const P=e=>{let{label:t,value:n,onChange:o,dataArray:l,width:i}=e;E(e,S);const{ref:s,isComponentVisible:c,setIsComponentVisible:d}=function(e){const{0:t,1:n}=Object(r.useState)(e),a=Object(r.useRef)(null),o=e=>{a.current&&!a.current.contains(e.target)&&n(!1)};return Object(r.useEffect)(()=>(document.addEventListener("click",o,!0),()=>{document.removeEventListener("click",o,!0)})),{ref:a,isComponentVisible:t,setIsComponentVisible:n}}(!1);return C(a.a.Fragment,null,C("div",{className:"flex flex-col bg-gray94  w-60 "},C("label",{className:"text-base text-left text-grey top-16  "},t),C("div",{className:" w-full relative",ref:s},C("button",{onClick:()=>d(!c),className:"relative bg-white text-left pl-5 w-full border py-2 border-gray95 rounded-md shadow-sm cursor-pointer focus:outline-none text-jacksonsPurple focus:ring-1 focus:ring-radicalRed focus:border-radicalRed text-base"},C("h2",{className:"truncate"},Object(N.a)(n)),C("div",{className:"absolute inset-y-0 right-0 pr-2 flex items-center  pointer-events-none"},C("img",{src:k.a,className:"w-4 "}))),C("ul",{className:c?"w-full absolute z-20 mt-1  bg-white shadow-lg  rounded-md py-1 text-base ring-1 ring-black ring-opacity-5  focus:outline-none sm:text-sm":"hidden"},(null==l?void 0:l.length)&&l.map((e,t)=>C("li",{key:t,className:"text-mineShaft select-none cursor-pointer relative py-2 pl-3 pr-9 hover:bg-gray94  ",value:e.name,onClick:()=>{o(e),d(!1)}},C("div",{className:"flex items-center"},C("h2",{className:"text-jacksonsPurple font-normal ml-3 block truncate "},Object(N.a)(e.name)))))))))};var I=Object(r.memo)(P),D=n(7),T=n(12),A=a.a.createElement;var M=({templateData:e,handleSaveTemplate:t,closeModal:n})=>{const{0:a,1:o}=Object(r.useState)(""),{0:l,1:i}=Object(r.useState)([]),{0:s,1:c}=Object(r.useState)(!0),{0:d,1:u}=Object(r.useState)(""),{data:f,error:b,isLoading:h}=Object(D.useQuery)("categories",T.a.getAllCategories),{0:v,1:y}=Object(r.useState)(f?f[0]:null);Object(r.useEffect)(()=>{var t;null!==(t=e.tags)&&void 0!==t&&t.length&&i(e.tags)},[]);const x=Object(O.a)("http://www.w3.org/2000/svg","0 0 24 24","white","#FF3C69",'  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />'),j=e=>{if(!e)return;l.filter(t=>t==e).length&&!s?m()({title:"Tag already added",icon:"error"}):(i([...l,e]),c(!1))};return A("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},A("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},A("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),A("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),A("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},A("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},A("div",{className:"h-96"},A("div",null,A("input",{value:a,onChange:e=>o(e.target.value),className:"relative  border border-grey appearance-none rounded w-full p-2 mt-0 focus:outline-none cursor-text"}),A(g.a,{label:"Enter Tag",id:"tagName",name:"tagName",value:d,onChange:e=>{u(e.target.value)},placeholder:"Enter tag",onKeyDown:e=>{"Enter"===e.key&&(j(d),u(""))},onClick:()=>{j(d),u("")},endIcon:p.a,className:"relative  border border-grey appearance-none rounded w-full p-2 mt-0 focus:outline-none cursor-text"}),A("div",{className:"flex flex-grow flex-wrap flex-col"},l.map((e,t)=>A("div",{key:t,className:"flex justify-between rounded-3xl px-5 py-1 border-radicalRed border-2 mt-1 text-radicalRed "},A("p",null,e),A("img",{onClick:()=>(e=>{let t=[...l];t.splice(e,1),i(t)})(t),src:x,alt:"error",className:"w-4  cursor-pointer "})))),A("div",{className:"z-20"},A(I,{label:"Select Category",value:(null==v?void 0:v.name)||"none",onChange:e=>{console.log({val:e}),y(e)},dataArray:f}))))),A("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 flex justify-between"},A("div",{className:"mt-2"},A(w,{loadingProps:{size:24,style:{color:"white"}},disableElevation:!0,onClick:n,type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:"red-button"},"Close")),A("div",{className:"mt-2"},A(w,{loadingProps:{size:24,style:{color:"white"}},disableElevation:!0,onClick:()=>{t(a,l,null==v?void 0:v.id)},type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:"red-button"},"Save Template"))))))},R=n(3),F=n(10),L=n(20),B=a.a.createElement;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=({variationIndex:e,setTemplateData:t})=>{const[n,r]=Object(L.useFileUpload)();return B("div",null,B("div",{className:"flex justify-center"},B("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(Y(Y({},R.d),{},{id:"shapes_"+n.toString()}))})}},"Add new Square")),B("div",{className:"flex justify-center"},B("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(Y(Y({},R.a),{},{id:"shapes_"+n.toString()}))})}},"Add new Circle")),B("div",{className:"flex justify-center"},B("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(Y(Y({},R.h),{},{id:"shapes_"+n.toString()}))})}},"Add new Triangle")),B("div",{className:"flex justify-center"},B("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(Y(Y({},R.c),{},{id:"shapes_"+n.toString()}))})}},"Add new Pentagon")),B("div",{className:"flex justify-center"},B("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(Y(Y({},R.e),{},{id:"shapes_"+n.toString()}))})}},"Add new Rounded Square")),B("div",{className:"flex justify-center"},B("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(Y(Y({},R.g),{},{id:"textBoxes_"+n.toString()}))})}},"Add new Text")),B("div",{className:"flex justify-center"},B("p",null,"upload svg"),B("input",{className:"",type:"file",accept:".svg",onChange:n=>{F.b(n.target.files).then(n=>{t(t=>{let r=(new Date).getTime();t.variations[e].elements.push(Y({id:"svgs_"+r.toString(),svgString:n},R.f))})})}})),B("div",{className:"flex justify-center"},B("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{r({accept:"image/png, image/jpg, image/jpeg",multiple:!1},({file:n})=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(Y(Y({},R.b),{},{src:r.result,id:"images_"+n.toString()}))})}})}},"Upload image")))},U=n(25),z=n.n(U),G=a.a.createElement;var Z=({onUndo:e,onRedo:t,setTemplateData:n,variationIndex:r,selectedId:a,setSelectedId:o})=>G("div",{className:"flex justify-center"},G("div",{className:"flex justify-center"},G("button",{onClick:()=>o("shapes_background"),className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Edit Background")),G("div",{className:"flex justify-center"},G("button",{onClick:()=>{a&&"shapes_background"!==a&&n(e=>{const t=e.variations[r].elements.findIndex(e=>e.id===a);if(t<e.variations[r].elements.length-1){const n=e.variations[r].elements[t+1];e.variations[r].elements[t+1]=e.variations[r].elements[t],e.variations[r].elements[t]=n}})},className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Bring to front")),G("div",{className:"flex justify-center"},G("button",{onClick:()=>{a&&"shapes_background"!==a&&n(e=>{const t=e.variations[r].elements.findIndex(e=>e.id===a);if(t>1){const n=e.variations[r].elements[t-1];e.variations[r].elements[t-1]=e.variations[r].elements[t],e.variations[r].elements[t]=n}})},className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Bring to Back")),G("div",{className:"flex justify-center"},G("button",{onClick:e,className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Undo")),G("div",{className:"flex justify-center"},G("button",{onClick:t,className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Redo"))),J=n(2),W=n(9),V=n.n(W);const H=["patternImageUrl"];var q=a.a.createElement;function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var re=({shapeProps:e,onSelect:t,onChange:n,onEditClick:o})=>{const l=Object(r.useRef)(null),{patternImageUrl:i}=e,s=ne(e,H),[c]=V()(i||null),d=s.width,u=s.height,m=c?c.width:10,f=c?c.height:10,p=s.patternScale||Math.max(d/m,u/f);return q(a.a.Fragment,null,q(J.Rect,K({ref:l,onClick:t,onTap:t,onDblClick:o,onDblTap:o,draggable:!0,strokeScaleEnabled:!1,onTransformEnd:t=>{const r=l.current,a=r.scaleX(),o=r.scaleY();r.scaleX(1),r.scaleY(1),n(ee(ee({},e),{},{x:r.x(),y:r.y(),width:Math.max(r.width()*a),height:Math.max(r.height()*o)}))},onDragEnd:t=>{n(ee(ee({},e),{},{x:t.target.x(),y:t.target.y()}))},fillPatternImage:c,fillPatternOffsetX:0,fillPatternOffsetY:0,fillPatternScaleX:p,fillPatternScaleY:p,fillPatternRepeat:"no-repeat"},s)))};const ae=["patternImageUrl"];var oe=a.a.createElement;function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ue=({shapeProps:e,onSelect:t,onChange:n,onEditClick:o})=>{const l=Object(r.useRef)(null),{patternImageUrl:i}=e,s=de(e,ae),[c]=V()(i||null);return oe(a.a.Fragment,null,oe(J.Circle,le({ref:l,onClick:t,onTap:t,onDblClick:o,onDblTap:o,draggable:!0,strokeScaleEnabled:!1,onTransformEnd:t=>{n(se(se({},e),{},{scaleX:t.target.attrs.scaleX,scaleY:t.target.attrs.scaleY}))},onDragEnd:t=>{n(se(se({},e),{},{x:t.target.x(),y:t.target.y()}))},fillPatternImage:c,fillPatternOffsetX:0,fillPatternOffsetY:0,fillPatternScaleX:.1,fillPatternScaleY:.1,fillPatternRepeat:"no-repeat"},s)))};const me=["patternImageUrl"];var fe=a.a.createElement;function pe(){return(pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ye=({shapeProps:e,onSelect:t,onChange:n,onEditClick:o})=>{const l=Object(r.useRef)(null),{patternImageUrl:i}=e,s=ve(e,me),[c]=V()(i||null);return fe(a.a.Fragment,null,fe(J.RegularPolygon,pe({ref:l,onClick:t,onTap:t,onDblClick:o,onDblTap:o,draggable:!0,strokeScaleEnabled:!1,onDragEnd:t=>{n(be(be({},e),{},{x:t.target.x(),y:t.target.y()}))},onTransformEnd:t=>{n(be(be({},e),{},{scaleX:t.target.attrs.scaleX,scaleY:t.target.attrs.scaleY}))},fillPatternImage:c,fillPatternOffsetX:0,fillPatternOffsetY:0,fillPatternScaleX:.1,fillPatternScaleY:.1,fillPatternRepeat:"no-repeat"},s)))};const xe=["patternImageUrl"];var we=a.a.createElement;function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ce=({shapeProps:e,onSelect:t,onChange:n,onEditClick:o})=>{const l=Object(r.useRef)(null),{patternImageUrl:i}=e,s=Se(e,xe),[c]=V()(i||null);return we(a.a.Fragment,null,we(J.Line,Oe({ref:l,onClick:t,onTap:t,onDblClick:o,onDblTap:o,draggable:!0,strokeScaleEnabled:!1,onTransformEnd:t=>{n(ke(ke({},e),{},{scaleX:t.target.attrs.scaleX,scaleY:t.target.attrs.scaleY}))},onDragEnd:t=>{n(ke(ke({},e),{},{x:t.target.x(),y:t.target.y()}))},fillPatternImage:c,fillPatternOffsetX:0,fillPatternOffsetY:0,fillPatternScaleX:.1,fillPatternScaleY:.1,fillPatternRepeat:"no-repeat"},s)))},Ee=a.a.createElement;function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ie=({svgProps:e,onChange:t,onSelect:n,onEditClick:r})=>{const[o]=V()(F.d(F.c(e.svgString,e.colorMap)));return Ee(a.a.Fragment,null,Ee(J.Image,Pe({},e,{image:o,onClick:n,onTap:n,onDblClick:r,onDblTap:r,onDragEnd:t,onTransformEnd:t})))},De=a.a.createElement;function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ae=({textProps:e,onChange:t,onSelect:n,onEditClick:a})=>{const o=Object(r.useRef)(null);return De(J.Text,Te({ref:o,draggable:!0,onClick:n,onTap:n,onDblClick:a,onDblTap:a,onTransform:e=>{let t=o.current.scaleX(),n=o.current.width();o.current.setAttrs({width:n*t,scaleX:1,scaleY:1})},onDragEnd:t},e))},Me=a.a.createElement;function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=({id:e,selectedShapeName:t,templateData:n,$tr:o})=>{Object(r.useEffect)(()=>{l()},[t,n.variations]);const l=()=>{const e=o.current.getStage().findOne("#"+t);e?o.current.nodes([e]):o.current.detach(),o.current.getLayer().batchDraw()};return Me(a.a.Fragment,null,Me(J.Transformer,{id:e,ref:o,ignoreStroke:!0,rotationSnaps:[0,90,180,270],boundBoxFunc:(e,n)=>"shapes_background"===t?e:n.width<50?Fe(Fe({},e),{},{width:50}):n}))};const _e=["src"];var Ye=a.a.createElement;function $e(){return($e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ue=({imageProps:e,onChange:t,onSelect:n})=>{const[r]=V()(e.src),{src:o}=e,l=Xe(e,_e);return Ye(a.a.Fragment,null,Ye(J.Image,$e({},l,{image:r,onClick:()=>n(e.id),onTap:()=>n(e.id),onDragEnd:t,onTransformEnd:t})))},ze=a.a.createElement;function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var We=({templateData:e,setTemplateData:t,variationIndex:n,selectedId:o,setSelectedId:l,unSelectAll:i,handleEditSelectedItem:s})=>{var c;const d=Object(r.useRef)(null),u=Object(r.useRef)(null),m=Object(r.useRef)(null),f=Object(r.useRef)(null),p=Object(r.useRef)({visible:!1,x1:0,y1:0,x2:0,y2:0}),{0:g,1:b}=Object(r.useState)([]),h=window.Konva,v=()=>{const e=f.current;e.setAttrs({visible:p.current.visible,x:Math.min(p.current.x1,p.current.x2),y:Math.min(p.current.y1,p.current.y2),width:Math.abs(p.current.x1-p.current.x2),height:Math.abs(p.current.y1-p.current.y2),fill:"rgba(0, 161, 255, 0.3)"}),e.getLayer().batchDraw()},y=a.a.useRef(null);return ze(J.Stage,{ref:d,onMouseDown:e=>{const t="shapes_background"!==e.target.attrs.id,n=e.target.findAncestor("Transformer");if(t||n)return;const r=e.target.getStage().getPointerPosition();p.current.visible=!0,p.current.x1=r.x,p.current.y1=r.y,p.current.x2=r.x,p.current.y2=r.y,v()},onMouseUp:()=>{if(y.current=null,!p.current.visible)return;const e=f.current.getClientRect(),t=[];u.current.find(".object").forEach(n=>{const r=n.getClientRect();h.Util.haveIntersection(e,r)&&t.push(n)}),m.current.nodes(t),b(t),1===(null==t?void 0:t.length)?l(t[0].attrs.id):l(null),p.current.visible=!1,h.listenClickTap=!1,v()},onMouseMove:e=>{if(!p.current.visible)return;const t=e.target.getStage().getPointerPosition();p.current.x2=t.x,p.current.y2=t.y,v()},width:e.dimensions.width,height:e.dimensions.height},ze(J.Layer,{ref:u,onDragMove:t=>{const n=u.current.find(".guid-line");n.length&&n.forEach(e=>e.destroy());const r=((e,t)=>{const n=[],r=[];e.vertical.forEach(e=>{t.vertical.forEach(t=>{const r=Math.abs(e-t.guide);r<10&&n.push({lineGuide:e,diff:r,snap:t.snap,offset:t.offset})})}),e.horizontal.forEach(e=>{t.horizontal.forEach(t=>{const n=Math.abs(e-t.guide);n<10&&r.push({lineGuide:e,diff:n,snap:t.snap,offset:t.offset})})});const a=[],o=null==n?void 0:n.sort((e,t)=>e.diff-t.diff)[0],l=null==r?void 0:r.sort((e,t)=>e.diff-t.diff)[0];return o&&a.push({lineGuide:o.lineGuide,offset:o.offset,orientation:"V",snap:o.snap}),l&&a.push({lineGuide:l.lineGuide,offset:l.offset,orientation:"H",snap:l.snap}),a})((t=>{const n=[0,e.dimensions.width/2,e.dimensions.width],r=[0,e.dimensions.height/2,e.dimensions.height];return d.current.find(".object").forEach(e=>{if(e===t)return;const a=e.getClientRect();n.push([a.x,a.x+a.width,a.x+a.width/2]),r.push([a.y,a.y+a.height,a.y+a.height/2])}),{vertical:n.flat(),horizontal:r.flat()}})(t.target),(e=>{const t=e.getClientRect();return{vertical:[{guide:Math.round(t.x),offset:Math.round(e.x()-t.x),snap:"start"},{guide:Math.round(t.x+t.width/2),offset:Math.round(e.x()-t.x-t.width/2),snap:"center"},{guide:Math.round(t.x+t.width),offset:Math.round(e.x()-t.x-t.width),snap:"end"}],horizontal:[{guide:Math.round(t.y),offset:Math.round(e.y()-t.y),snap:"start"},{guide:Math.round(t.y+t.height/2),offset:Math.round(e.y()-t.y-t.height/2),snap:"center"},{guide:Math.round(t.y+t.height),offset:Math.round(e.y()-t.y-t.height),snap:"end"}]}})(t.target));r.length&&((e=>{e.forEach(e=>{if("H"===e.orientation){const t=new h.Line({points:[-6e3,e.lineGuide,6e3,e.lineGuide],stroke:"rgb(0, 161, 255)",strokeWidth:1,name:"guid-line",dash:[4,6]});u.current.add(t),u.current.batchDraw()}else if("V"===e.orientation){const t=new h.Line({points:[e.lineGuide,-6e3,e.lineGuide,6e3],stroke:"rgb(0, 161, 255)",strokeWidth:1,name:"guid-line",dash:[4,6]});u.current.add(t),u.current.batchDraw()}})})(r),r.forEach(e=>{switch(e.snap){case"start":case"center":case"end":switch(e.orientation){case"V":t.target.x(e.lineGuide+e.offset);break;case"H":t.target.y(e.lineGuide+e.offset);break;default:return}break;default:return}}))},onDragEnd:e=>{const t=u.current.find(".guid-line");t.length&&t.forEach(e=>e.destroy()),u.current.batchDraw()}},null===(c=e.variations[n].elements)||void 0===c?void 0:c.map((e,r)=>"rectangle"===e.type?ze(re,{key:r,shapeProps:e,onSelect:t=>{if(void 0!==t.current){let e=g;g.includes(t.current)||e.push(t.current),b(e),m.current.nodes(g),m.current.nodes(g),m.current.getLayer().batchDraw()}"shapes_background"!==e.id&&l(e.id)},onEditClick:s,onChange:r=>{t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=r})}}):"circle"===e.type?ze(ue,{key:r,shapeProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>{t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=r})}}):"line"===e.type?ze(Ce,{key:r,shapeProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>{t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=r})}}):"polygon"===e.type?ze(ye,{key:r,shapeProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>{t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=r})}}):"svg"===e.type?ze(Ie,{key:r,svgProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=Ze(Ze({},t.variations[n].elements[a]),JSON.parse(JSON.stringify(r.target.attrs)))})}):"image"===e.type?ze(Ue,{key:r,imageProps:e,onSelect:()=>{l(e.id)},onChange:r=>t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=Ze(Ze({},t.variations[n].elements[a]),JSON.parse(JSON.stringify(r.target.attrs)))})}):"text"===e.type?ze(Ae,{key:r,textProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=Ze({},r.target.attrs)})}):void 0),ze(Be,{id:"tr"+o,$tr:m,selectedShapeName:o,templateData:e}),ze(J.Rect,{fill:"rgba(0,0,255,0.5)",ref:f})))},Ve=n(11),He=a.a.createElement;var qe=({selectedId:e,variationIndex:t,templateData:n,setTemplateData:a,handleCloseEditTextModal:o})=>{const{0:l,1:i}=Object(r.useState)(""),{0:s,1:c}=Object(r.useState)(20),{0:d,1:u}=Object(r.useState)("normal"),{0:m,1:f}=Object(r.useState)(R.i[0]),{0:p,1:g}=Object(r.useState)("left"),{0:b,1:h}=Object(r.useState)("#000000");Object(r.useEffect)(()=>{if("textBoxes"===(null==e?void 0:e.split("_")[0])){const r=n.variations[t].elements.findIndex(t=>t.id===e);i(n.variations[t].elements[r].text),c(n.variations[t].elements[r].fontSize),u(n.variations[t].elements[r].fontStyle),f(n.variations[t].elements[r].fontFamily),g(n.variations[t].elements[r].align),h(n.variations[t].elements[r].fill)}},[e]);return He("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},He("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},He("div",{className:""},He("p",null,"Font Size:"),He("input",{className:"border mb-5",type:"number",value:s,onChange:e=>c(parseInt(e.target.value))}),He("p",null,"Select Font style:"),He("select",{className:"border mb-5",name:"font-style",onChange:e=>u(e.target.value)},He("option",{value:"normal"},"normal"),He("option",{value:"bold"},"bold"),He("option",{value:"italic"},"italic"),He("option",{value:"italic bold"},"italic bold")),He("p",null,"Select Text Alignment:"),He("select",{className:"border mb-5",name:"text-align",onChange:e=>g(e.target.value)},He("option",{value:"left"},"left"),He("option",{value:"center"},"center"),He("option",{value:"right"},"right")),He("p",null,"Select font family:"),He("select",{value:m,style:{fontFamily:m},onChange:e=>f(e.target.value),className:"border mb-5"},R.i.map((e,t)=>He("option",{className:"bg-white text-black",style:{fontFamily:e},key:t,selected:e===m,value:e},e))),He("p",null,"Text color:"),He(Ve.SketchPicker,{width:"150px",color:b,onChange:e=>h(e.hex)})),He("div",{className:"mt-5"},He("textarea",{className:"border h-40 w-full",style:{fontFamily:m,fontSize:s,fontStyle:d,textAlign:p,color:b},value:l,onChange:e=>i(e.target.value)}))),He("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},He("button",{onClick:()=>{a(n=>{const r=n.variations[t].elements.findIndex(t=>t.id===e);n.variations[t].elements[r].text=l,n.variations[t].elements[r].fontSize=s,n.variations[t].elements[r].fontStyle=d,n.variations[t].elements[r].fontFamily=m,n.variations[t].elements[r].align=p,n.variations[t].elements[r].fill=b}),o()},type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Done")))},Ke=a.a.createElement;var Qe=({selectedId:e,templateData:t,setTemplateData:n,variationIndex:r,currentPalette:a})=>{const[o,l]=Object(L.useFileUpload)(),i=t=>{n(n=>{const a=n.variations[r].elements.find(t=>t.id===e);a.fill=t,a.patternImageUrl=void 0})},s=(t,a)=>{n(n=>{const o=n.variations[r].elements.find(t=>t.id===e);o.fill="",o.fillLinearGradientColorStops=[0,t,1,a],o.fillLinearGradientStartPoint={x:0,y:0},o.fillLinearGradientEndPoint={x:"shapes_background"===e?R.j.width:100,y:"shapes_background"===e?R.j.height:100},o.patternImageUrl=void 0})},c=t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).fillPatternScaleX=parseFloat(t.target.value)})},d=t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).fillPatternScaleY=parseFloat(t.target.value)})},u=t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).fillPatternOffsetX=parseInt(t.target.value)})},m=t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).fillPatternOffsetY=parseInt(t.target.value)})},f=t.variations[r].elements.find(t=>t.id===e);return Ke("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ke("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ke("div",null,Ke("p",null,"Border width: "),Ke("input",{className:"border mb-5",type:"number",min:0,value:null==f?void 0:f.strokeWidth,onChange:t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).strokeWidth=parseInt(t.target.value)})}}),Ke("p",null,"Corner radius:"),Ke("input",{className:"border mb-5",type:"number",min:0,value:null==f?void 0:f.cornerRadius,onChange:t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).cornerRadius=parseInt(t.target.value)})}}),Ke("p",null,"Opacity: "),Ke("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.opacity,step:.1,min:.1,max:1,onChange:t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).opacity=parseFloat(t.target.value)})}}),Ke("p",null,"Image Scale X: "),Ke("input",{className:"border mb-5",type:"number",step:.1,value:null==f?void 0:f.fillPatternScaleX,onChange:c}),Ke("p",null,"Image Scale Y: "),Ke("input",{className:"border mb-5",type:"number",step:.1,value:null==f?void 0:f.fillPatternScaleY,onChange:d}),Ke("p",null,"Image offset X: "),Ke("input",{className:"border mb-5",type:"number",step:10,value:null==f?void 0:f.fillPatternOffsetX,onChange:u}),Ke("p",null,"Image offset Y: "),Ke("input",{className:"border mb-5",type:"number",step:10,value:null==f?void 0:f.fillPatternOffsetY,onChange:m}),Ke("p",null,"Borer color:"),Ke(Ve.SketchPicker,{width:"150px",color:null==f?void 0:f.stroke,onChange:t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).stroke=t.hex})}})),Ke("div",{className:null!=f&&f.fillPatternImage?"":"hidden"},Ke("p",null,"Image Offset X: "),Ke("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.fillPatternOffsetX,step:.1,min:.1,max:1,onChange:u}),Ke("p",null,"Image Offset Y: "),Ke("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.fillPatternOffsetY,step:.1,min:.1,max:1,onChange:m}),Ke("p",null,"Image Scale X: "),Ke("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.fillPatternScaleX,step:.1,min:.1,max:1,onChange:c}),Ke("p",null,"Image Scale Y: "),Ke("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.fillPatternScaleY,step:.1,min:.1,max:1,onChange:d})),Ke("div",null,a.map((e,t)=>Ke("div",{key:t,className:"h-10 mt-5 mb-5 flex flex-wrap justify-center content-center"},Ke("p",{className:"w-48"},"Select ",e.name)," ",Ke("div",{className:"w-10 h-10 border border-black",style:{backgroundColor:e.color},onClick:()=>i(e.color)})))),Ke("div",{className:"sm:flex sm:items-start"},Ke(Ve.SketchPicker,{width:"100%",color:null==f?void 0:f.fill,onChange:e=>i(e.hex)}))),Ke("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ke("div",{className:"flex justify-center"},Ke("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{l({accept:"image/png, image/jpg, image/jpeg",multiple:!1},({file:t})=>{const a=new FileReader;a.readAsDataURL(t),a.onload=()=>{n(t=>{const n=t.variations[r].elements.find(t=>t.id===e);n.fill="",n.patternImageUrl=a.result})}})}},"Insert image"))),Ke("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ke("b",null,"Gradient:"),Ke("div",{className:"grid grid-cols-2"},Ke("div",null,Ke("p",null,"Color 1"),Ke("div",{className:"sm:flex sm:items-start"},Ke(Ve.SketchPicker,{width:"150px",color:null!=f&&f.fillLinearGradientColorStops?null==f?void 0:f.fillLinearGradientColorStops[1]:"#171717",onChange:e=>s(e.hex,null!=f&&f.fillLinearGradientColorStops?null==f?void 0:f.fillLinearGradientColorStops[3]:"#171717")}))),Ke("div",null,Ke("p",null,"Color 2"),Ke("div",{className:"sm:flex sm:items-start"},Ke(Ve.SketchPicker,{width:"150px",color:null!=f&&f.fillLinearGradientColorStops?null==f?void 0:f.fillLinearGradientColorStops[3]:null==f?void 0:f.fill,onChange:e=>s(null!=f&&f.fillLinearGradientColorStops?null==f?void 0:f.fillLinearGradientColorStops[1]:null==f?void 0:f.fill,e.hex)}))))))},et=a.a.createElement;var tt=({selectedId:e,templateData:t,setTemplateData:n,variationIndex:a})=>{const{0:o,1:l}=Object(r.useState)("#171717"),i=t.variations[a].elements.find(t=>t.id===e),s=F.a(i.svgString),c=i.colorMap,d=(t,r)=>{n(n=>{n.variations[a].elements.find(t=>t.id===e).colorMap[t]=r})};return et("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},et("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},et("div",null,et("p",null,"Select a color to edit"),s.map((e,t)=>et("div",{key:t,className:"h-10 m-5 inline-block"},et("div",{className:"w-10 h-10 border border-black",style:{backgroundColor:i.colorMap[e]||e},onClick:()=>l(e)})))),et("div",{className:o?"":"hidden"},t.palette.map((e,t)=>et("div",{key:t,className:"h-10 mt-5 mb-5 flex flex-wrap justify-center content-center"},et("p",{className:"w-48"},"Select ",e.name)," ",et("div",{className:"w-10 h-10 border border-black "+(o===e.color&&"opacity-50"),style:{backgroundColor:e.color},onClick:()=>d(o,e.color)})))),et("div",{className:o?"sm:flex sm:items-start":"hidden"},et(Ve.SketchPicker,{width:"100%",color:c[o]||"#000000",onChange:e=>d(o,e.hex)}))))},nt=a.a.createElement;var rt=({selectedId:e,unSelectAll:t,isOpenColorPicker:n,isEditTextBox:r,templateData:a,setTemplateData:o,variationIndex:l,handleEditSelectedItem:i,handleDeleteSelectedItem:s,handleCloseEditTextModal:c})=>nt("div",{className:"h-screen overflow-y-scroll"},nt("div",{className:"flex justify-center"},nt("button",{onClick:i,className:"images"===(null==e?void 0:e.split("_")[0])?"hidden":"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Edit")),nt("div",{className:"flex justify-center"},nt("button",{onClick:s,className:"shapes_background"===e?"hidden":"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Delete")),nt("div",{className:"flex justify-center"},nt("button",{onClick:t,className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Close")),n&&"shapes"===(null==e?void 0:e.split("_")[0])&&nt(Qe,{selectedId:e,templateData:a,setTemplateData:o,variationIndex:l,currentPalette:a.palette}),n&&"svgs"===(null==e?void 0:e.split("_")[0])&&nt(tt,{selectedId:e,templateData:a,setTemplateData:o,variationIndex:l}),r&&nt(qe,{selectedId:e,templateData:a,setTemplateData:o,variationIndex:l,handleCloseEditTextModal:c})),at=n(4),ot=n(6),lt=n(13),it=n(5),st=a.a.createElement;var ct=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","The template you selected might be corrupted","error").then(t)},[]),st("div",{style:{width:R.j.width,height:R.j.height}},e.message)),dt=a.a.createElement;var ut=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with toolbar, try reloading the page.","error")},[]),dt("div",null,e.message)),mt=a.a.createElement;var ft=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with sidebar, try reloading the page.","error")},[]),mt("div",null,e.message)),pt=a.a.createElement;var gt=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with sidebar, try reloading the page.","error").then(t)},[]),pt("div",null,e.message)),bt=a.a.createElement;var ht=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with save template modal, try refreshing the page.","error")},[]),bt("div",null,e.message)),vt=a.a.createElement;var yt=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong, try reloading the page.","error").then(t)},[]),vt("div",null,e.message)),xt=a.a.createElement;var wt=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with editing tools, try reloading the page.","error").then(t)},[]),xt("div",null,e.message)),Ot=a.a.createElement;function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=()=>{const e=Object(at.useHistory)(),{0:t,1:n,2:{goForward:a,goBack:l,stepNum:s,history:c}}=Object(r.useContext)(o.b),{0:u,1:f}=Object(r.useState)(!1);let{templateID:p}=Object(at.useParams)();const{data:g,error:b,isLoading:h}=Object(D.useQuery)(["currentTemplate",p],()=>lt.a.getTemplateByID(p));Object(r.useEffect)(()=>{u||g&&!b&&(n(g),f(!0))},[g]);const{0:v,1:y}=Object(r.useState)(0),{0:x,1:w}=Object(r.useState)(!1),{0:O,1:j}=Object(r.useState)(null),{0:k,1:N}=Object(r.useState)(!1),{0:S,1:C}=Object(r.useState)(!1),{0:E,1:P}=Object(r.useState)(!1);Object(r.useEffect)(()=>{N(!1),C(!1)},[O]);const I=()=>{N(!1),C(!1),j(null)},T=e=>{"Escape"===e.key&&I()};Object(r.useEffect)(()=>(document.addEventListener("keydown",T,!1),z.a.load({google:{families:["Comfortaa","Josefin Sans","Euphoria Script","Oswald","Alfa Slab One","Bangers","Caveat","DM Sans","East Sea Dokdo","Homemade Apple","Kristi","Lobster Two","Maven Pro","Monoton","Montserrat","Playfair Display","Press Start 2P","Raleway","Roboto Slab","Shadows Into Light","Swanky and Moo Moo"]}}),()=>{document.removeEventListener("keydown",T,!1)}),[]);const A=()=>{"textBoxes"!==O.split("_")[0]?N(!0):C(!0)};return Ot("div",{className:"min-w-max bg-gray300 "},Ot("div",{className:"h-20 mb-5 flex flex-wrap justify-evenly content-center bg-gray900"},Ot("div",{className:"flex gap-2"},Ot(at.NavLink,{to:ot.a.home,className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Back to Home"),Ot(at.NavLink,{to:ot.a.select_palette,className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Select Palette")),Ot("p",{className:"text-xl text-white"},"Tempalte Design"),Ot("div",{className:"flex gap-2"},Ot("button",{onClick:()=>{P(!0)},className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Save Template"),Ot("button",{onClick:()=>{m()({title:"Are you sure?",text:"Do you want to delete this Template?",icon:"warning",buttons:["Cancel","Confirm"],dangerMode:!0}).then(async t=>{t&&(p?await lt.a.deleteTemplateByID(p):n(o.a),e.push(ot.a.home))})},className:"text-white font-semibold py-2 px-4 border border-red rounded"},"Delete Template"))),x&&Ot(it.ErrorBoundary,{FallbackComponent:gt,onReset:()=>{}},Ot(d,{templateData:t,handleSaveVariation:e=>{n(t=>{t.variations[v].name=e.name,t.variations[v].face=e.face}),w(!1)}})),E&&Ot(it.ErrorBoundary,{FallbackComponent:ht,onReset:()=>{}},Ot(M,{templateData:t,handleSaveTemplate:async(n,r,a)=>{console.log({LOL:JSON.stringify(kt(kt({},t),{},{name:n,tags:r,categoryId:a}))}),p?await lt.a.updateTemplateByID(p,kt(kt({},t),{},{name:n,tags:r,categoryId:a})):(await lt.a.addNewTemplate(kt(kt({},t),{},{name:n,tags:r,categoryId:a})),e.push(ot.a.home)),P(!1)},closeModal:()=>P(!1)})),Ot("div",{className:"grid grid-cols-3 gap-4"},Ot(it.ErrorBoundary,{FallbackComponent:ft,onReset:()=>{}},Ot(X,{variationIndex:v,setTemplateData:n})),Ot("div",null,Ot(it.ErrorBoundary,{FallbackComponent:ut,onReset:()=>{}},Ot(Z,{onUndo:()=>{j&&I(),s>0&&(v>0&&c[s].variations.length>c[s-1].variations.length&&y(v-1),l())},onRedo:()=>{j&&I(),s>0&&v>0&&c[s].variations.length>c[s+1].variations.length&&y(v-1),s<c.length-1&&a()},setTemplateData:n,variationIndex:v,selectedId:O,setSelectedId:j})),Ot("div",{className:"flex justify-center mt-5"},Ot(it.ErrorBoundary,{FallbackComponent:ct,onReset:()=>e.push(ot.a.home)},Ot(We,{templateData:t,setTemplateData:n,variationIndex:v,selectedId:O,setSelectedId:j,unSelectAll:I,handleEditSelectedItem:A}))),Ot("div",{className:"flex justify-center mt-5"},Ot(it.ErrorBoundary,{FallbackComponent:yt,onReset:()=>{}},Ot(i,{variations:t.variations,variationIndex:v,setVariationIndex:y}))),Ot("div",{className:"flex justify-center"},Ot("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>w(!0)},"Save Variation"),Ot("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t.variations.length<3?(n(e=>{e.variations.push(t.variations[v])}),y(e=>e+1)):m()("Cannot create more than 3 variations!")}},"Add New Variation"),Ot("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{const e=t.variations.length;m()({title:"Are you sure?",text:"Do you want to delete this variation?",icon:"warning",buttons:["Cancel","Confirm"],dangerMode:!0}).then(t=>{t&&n(e>1?t=>{t.variations.splice(v,1),v===e-1&&y(v-1)}:o.a)})}},"Delete variation"))),Ot("div",{className:O?"":"hidden"},Ot(it.ErrorBoundary,{FallbackComponent:wt,onReset:()=>{}},Ot(rt,{selectedId:O,unSelectAll:I,isOpenColorPicker:k,isEditTextBox:S,templateData:t,setTemplateData:n,variationIndex:v,handleEditSelectedItem:A,handleDeleteSelectedItem:()=>{n(e=>{e.variations[v].elements=e.variations[v].elements.filter(e=>e.id!==O),I()})},handleCloseEditTextModal:()=>{C(!1)}})))))}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),l=n(1),i=n.n(l),s=a.a.createElement;var c=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{i()("Oops!","Encountered an error while loading categories. Try reloading page.","error").then(t)},[]),s("div",null,e.message)),d=a.a.createElement;var u=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{i()("Oops!","Encountered an error while rendering this component. Try reloading page.","error").then(t)},[]),d("div",null,e.message)),m=a.a.createElement;var f=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{i()("Oops!","Encountered an error while loading categories. Try reloading page.","error").then(t)},[]),m("div",null,e.message)),p=n(7),g=n(12),b=a.a.createElement;var h=()=>{var e;const{0:t,1:n}=Object(r.useState)(""),{data:o,error:l,isLoading:s}=Object(p.useQuery)("categories",g.a.getAllCategories);if(s)return b(a.a.Fragment,null,b("p",null,"Getting all categories ..."));if(l)return b(a.a.Fragment,null,b("p",null,l.message));return b("div",{className:"space-y-4 p-5"},b("div",null,null==o||null===(e=o.data)||void 0===e?void 0:e.map(e=>b("div",{key:e.id,className:"flex justify-between mt-1 mb-1"},b("span",{className:"block"},e.name),b("button",{onClick:()=>(async e=>{i()({title:"Are you sure?",text:`Do you want to delete ${e.name}?`,icon:"warning",buttons:["Cancel","Confirm"],dangerMode:!0}).then(async t=>{if(t){const t=await g.a.deleteCategoryByID(e.id);console.log({res:t})}})})(e),className:"bg-redish hover:bg-red600 text-white font-bold py-2 px-4 rounded"},"Delete")))),b("div",{className:"w-full"},b("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},b("div",{className:"mb-4"},b("label",{className:"block text-gray-700 text-sm font-bold mb-2"},"Category name"),b("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter category name",value:t,onChange:e=>n(e.target.value)})),b("div",{className:"flex items-center justify-between"},b("button",{onClick:async e=>{e.preventDefault();const n=await g.a.addNewCategory({name:t,templateList:[]});console.log({res:n})},className:"bg-lightGray hover:bg-gray900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Add new Category")))))},v=n(8);const y=[{name:"HEADER",dimension:{width:600,height:200},scaleFactor:1},{name:"BODY",dimension:{width:1080,height:1080},scaleFactor:.5},{name:"FEATURE IMAGE",dimension:{width:1200,height:630},scaleFactor:.5}];var x=n(26),w=n(6),O=a.a.createElement;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S=n(32);var C=({closeModal:e})=>{const t=Object(x.useHistory)(),n=Object(r.useRef)(null),{1:o}=Object(r.useContext)(v.b),l=t=>{var r;null!==(r=n.current)&&void 0!==r&&r.contains(t.target)||e()};Object(r.useEffect)(()=>(document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)));return O(a.a.Fragment,null,O("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-x-hidden overflow-y-auto outline-none focus:outline-none"},O("div",{ref:n,className:"relative max-w-3xl mx-auto my-6",style:{width:"765px"}},O("div",{className:"relative flex flex-col w-full bg-white border-0 rounded-lg shadow-lg outline-none focus:outline-none"},O("div",{className:" flex flex-row-reverse mt-2 ml-2  "},O("div",null,O("button",{className:" text-base font-medium float-right mr-3  ml-auto  leading-none text-black border-0 outline-none  focus:outline-none",onClick:e},"x"))),O("div",{className:"flex items-start justify-between p-5 rounded-t "},O("h3",{className:"text-3xl font-bold leading-9 font-inter text-gray900"},"Create New Personalized Email")),O("div",{className:"relative flex-auto p-6 mb-6 text-lg font-bold text-createEmail font-inter "},O("div",{className:"mb-4 "},O("p",null," Create For Email")),O("div",{className:"grid grid-cols-2 gap-x-12 gap-y-6  pl-2  "},y.map((e,n)=>O("div",{key:e.name,style:{display:(e.name,""),backgroundColor:"white",height:"160px",width:1===n?"300px":"auto"},className:"relative h-40 border-2 border-transparent shadow-md gap-4 rounded-md  text-center pt-10 mb-3"},O("div",{style:{display:2===n?"":"none",marginTop:"20px",top:-55},className:"absolute  mt-6 mb-6 text-lg font-bold text-createEmail font-inter"},"Create For Social Media"),O("button",{onClick:()=>{return n={width:e.dimension.width*e.scaleFactor,height:e.dimension.height*e.scaleFactor},o(e=>{e.dimensions=k({},n),e.tags=[],e.variations[0].elements=[k(k({},v.a.variations[0].elements[0]),{},{width:n.width,height:n.height})]},!1),void t.push(w.a.select_palette);var n}},O("div",{className:"flex "},O("img",{src:S,alt:""}),O("div",{className:"mt-2 pl-4"},O("div",{className:"font-bold text-left text-createEmail font-inter"},O("h1",null,e.name)),O("div",{className:"text-sm text-createEmail2 font-inter"},O("p",null,"Dimensions:",e.dimension.width,"  ",e.dimension.height)))))))))))),O("div",{className:"fixed inset-0 z-0 bg-black opacity-25 "}))},E=n(10),P=n(27),I=n(18),D=n(19),T=n(17),A=n.n(T);const M="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7Il9pZCI6IjYxMWI5Y2MwZjEwNTJjMzU2YzM1Njk2ZiIsImVtYWlsIjoic3R5Z2lhbmxnZG9uaWNAZ21haWwuY29tIn0sImlhdCI6MTYyOTI4MjA5Nn0.PYOgPEwiLIyHI_22bjWEaPrykb-RzXKup9MRFzKZt_4",R="https://hyper-engage-staging.herokuapp.com/svg",F={getAllSvgs:async function(){const e=await fetch(`${R}?secret_token=${M}`);if(!e.ok)throw new Error("Error while adding new svg");return e.json()},getSvgByID:async function(e){const t=await fetch(`${R}/${e}?secret_token=${M}`);if(!t.ok)throw new Error("Error while adding new svg");return t.json()},deleteSvgByID:async function(e){const t=await fetch(`${R}/${e}?secret_token=${M}`,{method:"DELETE"});if(!t.ok)throw new Error("Error while adding new svg");return t.json()},searchSvgsByTags:async function(e){const t=e.join(",");console.log({endpoint:`${R}?tags=${t}&secret_token=${M}`});const n=await fetch(`${R}?tags=${t}&secret_token=${M}`);if(!n.ok)throw new Error("Error while adding new svg");return n.json()},addNewSvg:async function(e){const t=await fetch(`${R}?secret_token=${M}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error while adding new svg");return t.json()}};var L=a.a.createElement;var B=()=>L("div",{className:" flex justify-center items-center"},L("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-purple-500"})),_=a.a.createElement;var Y=({svgData:e,refetchSvgList:t})=>{const n=E.d(e.svgString),{mutate:r,isLoading:a,error:o}=Object(p.useMutation)(e=>F.deleteSvgByID(e),{onSuccess:(e,n,r)=>{t()}});return _("div",{className:"bg-white shadow-md rounded px-6 py-6"},_("div",{className:"flex justify-between pr-2 pl-2"},_("div",null,_("button",{className:"outline-none"},_("img",{alt:"svg",src:n,height:100,style:{height:100,objectFit:"contain"}}))),_("div",{className:"flex flex-col justify-center"},_("button",{onClick:()=>{i()("Are you sure?","You want to delete this svg","warning").then(t=>{t&&r(e._id)})},disabled:!!a,className:"bg-redish hover:bg-red600 text-white font-bold py-2 px-4 rounded w-20"},a?_(B,null):_("p",null,"Delete")))))},$=a.a.createElement;var X=({value:e,onChange:t,onKeyDown:n})=>$("div",{className:" flex justify-center items-center  w-full mb-2 mt-2"},$("div",{className:"flex h-14 rounded-md border-bordercolor border justify-center items-center w-full"},$("button",null,$("span",{className:"w-auto flex justify-end items-center text-grey text-sm p-3"},$("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2C3.79086 2 2 3.79086 2 6C2 8.20914 3.79086 10 6 10C8.20914 10 10 8.20914 10 6C10 3.79086 8.20914 2 6 2ZM0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6C12 7.29583 11.5892 8.49572 10.8907 9.47653L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L9.47653 10.8907C8.49572 11.5892 7.29583 12 6 12C2.68629 12 0 9.31371 0 6Z",fill:"#9CA3AF"})))),$("input",{className:"w-full rounded text-sm text-gray95 outline-none h-12 ",type:"text",placeholder:"For Example: helloworld, custom, apple",value:e,onChange:t,onKeyDown:n}))),U=a.a.createElement;var z=({svgList:e,svgListLoading:t,svgListError:n,refetchSvgList:a,setSearchTags:o})=>{var l,i,s;const{0:c,1:d}=Object(r.useState)("");return U("div",null,U("div",null,U("div",null,U("p",{className:"text-2xl mb-2"},"Svgs")),U("div",null,U("p",null,"Search by tags"),U(X,{value:c,onChange:e=>{const t=e.target.value;d(t);const n=t.match(/([a-zA-Z])\w+/g)||[];o([...n])},onKeyDown:e=>{13===e.keyCode&&a()}}),U("p",{className:"text-sm ml-2 text-gray94"},"Hit enter to search")),U("div",{className:" h-96 overflow-auto"},U("p",{className:t?"":"hidden"},"Loading svgs ..."),U("p",{className:n?"":"hidden"},n),U("p",{className:null!=e&&e.error?"":"hidden"},null==e||null===(l=e.error)||void 0===l?void 0:l.message),U("p",{className:null!=e&&null!==(i=e.data)&&void 0!==i&&i.length?"hidden":""},"No svgs to load, add new from below."),null==e||null===(s=e.data)||void 0===s?void 0:s.map(e=>U("div",{key:e._id,className:"mb-2"},U(Y,{svgData:e,refetchSvgList:a}))))))},G=a.a.createElement;function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J=()=>{const e=Object(D.a)("http://www.w3.org/2000/svg","0 0 24 24","white","#FF3C69",'  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />'),{register:t,handleSubmit:n}=Object(P.useForm)(),{0:a,1:o}=Object(r.useState)(""),{0:l,1:s}=Object(r.useState)([]),{0:c,1:d}=Object(r.useState)(!0),{0:u,1:m}=Object(r.useState)([]),{data:f,error:g,isLoading:b,refetch:h}=Object(p.useQuery)("svgSearch",()=>F.searchSvgsByTags([...u])),{mutate:v,isLoading:y,error:x}=Object(p.useMutation)(e=>F.addNewSvg({svgURL:"",svgString:e,tags:l}),{onSuccess:(e,t,n)=>{h()}}),w=e=>{if(!e)return;l.filter(t=>t==e).length&&!c?i()({title:"Tag already added",icon:"error"}):(s([...l,e]),d(!1))};return G("div",{className:"p-5"},G(z,{svgList:f,svgListError:g,svgListLoading:b,refetchSvgList:h,setSearchTags:m}),G("div",null,G("div",null,G("p",{className:"text-2xl"},"Upload new Svg")),G("div",{className:"flex justify-center"},G("form",{onSubmit:n(e=>{if(null!=l&&l.length){if(null!=e&&e.svgupload){const t=null==e?void 0:e.svgupload;E.b(t).then(e=>{v(e)})}}else i()({title:"please enter appsumo code",text:"Hit '+' icon or press enter after typing your code",icon:"error"})})},G(I.a,{label:"Enter Tag",id:"tagName",name:"tagName",value:a,onChange:e=>{o(e.target.value)},placeholder:"Type and hit Enter/Return key",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),w(a),o(""))},onClick:()=>{w(a),o("")},endIcon:A.a,className:"relative  border border-grey appearance-none rounded w-full p-2 mt-0 focus:outline-none cursor-text"}),G("div",{className:"flex flex-grow flex-wrap flex-col"},l.map((t,n)=>G("div",{key:t,className:"flex justify-between rounded-3xl px-5 py-1 border-radicalRed border-2 mt-1 text-radicalRed "},G("p",null,t),G("img",{onClick:()=>(e=>{let t=[...l];t.splice(e,1),s(t)})(n),src:e,alt:"error",className:"w-4  cursor-pointer "})))),G("input",Z({},t("svgupload"),{className:"mt-3 mb-3",name:"svgupload",type:"file",accept:".svg"})),G("button",{disabled:!!y,className:"bg-indigo500 hover:bg-indigo700 text-white font-bold py-2 px-4 w-24 rounded outline-none"},y?G(B,null):G("p",null,"Submit"))))))},W=a.a.createElement;var V=()=>W("div",{className:" flex justify-center items-center  w-full"},W("div",{className:"flex h-14 rounded-md border-bordercolor border justify-center items-center w-11/12"},W("button",null,W("span",{className:"w-auto flex justify-end items-center text-grey text-sm p-3"},W("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2C3.79086 2 2 3.79086 2 6C2 8.20914 3.79086 10 6 10C8.20914 10 10 8.20914 10 6C10 3.79086 8.20914 2 6 2ZM0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6C12 7.29583 11.5892 8.49572 10.8907 9.47653L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L9.47653 10.8907C8.49572 11.5892 7.29583 12 6 12C2.68629 12 0 9.31371 0 6Z",fill:"#9CA3AF"})))),W("input",{className:"w-full rounded text-sm text-gray95 outline-none h-12 ",type:"text",placeholder:"Search anything from elements"}))),H=n(2),q=n(3),K=a.a.createElement;function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ee=({konvaItem:e,index:t})=>e?K(a.a.Fragment,null,"rectangle"===(null==e?void 0:e.type)&&K(H.Rect,Q({key:t},e)),"circle"===(null==e?void 0:e.type)&&K(H.Circle,Q({key:t},e)),"line"===(null==e?void 0:e.type)&&K(H.Line,Q({key:t},e)),"polygon"===(null==e?void 0:e.type)&&K(H.RegularPolygon,Q({key:t},e)),"svg"===(null==e?void 0:e.type)&&K(H.Image,Q({key:t},e)),"image"===(null==e?void 0:e.type)&&K(H.Image,Q({key:t},e)),"text"===(null==e?void 0:e.type)&&K(H.Text,Q({key:t},e))):K(a.a.Fragment,null),te=n(4),ne=a.a.createElement;var re=({templateObj:e})=>{var t,n;const a=Object(te.useHistory)(),{0:o,1:l}=Object(r.useContext)(v.b);return ne("button",{onClick:()=>{l(e,!1),a.push("/tool/"+e.id)},className:"border-2  border-dashed rounded-md border-bordercolor justify-center items-center flex flex-col py-4 "},ne(H.Stage,{width:.3*q.j.width,height:.3*q.j.height,scaleX:.3,scaleY:.3},ne(H.Layer,{listening:!1},null==e||null===(t=e.variations[0])||void 0===t||null===(n=t.elements)||void 0===n?void 0:n.map((e,t)=>ne(ee,{key:t,konvaItem:e,index:t})))))},ae=a.a.createElement;var oe=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{i()("Oops!","Something is wrong with Search, try reloading the page.","error").then(t)},[]),ae("div",null,e.message)),le=a.a.createElement;var ie=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{i()("Oops!","This Template might be corrupted","error").then(t)},[]),le("div",null,e.message)),se=n(15),ce=n(13),de=a.a.createElement;var ue=()=>{var e,t;const{data:n,error:l,isLoading:i}=Object(p.useQuery)("templates",ce.a.getAllTemplates),{data:s,error:c,isLoading:d}=Object(p.useQuery)("categories",g.a.getAllCategories),{0:u,1:m}=Object(r.useState)(null);return i?de(a.a.Fragment,null,de("p",null,"Getting all templates ...")):n.error?de(a.a.Fragment,null,de("p",null,n.error.message)):de("div",{className:"space-y-4 p-5"},de(a.a.Fragment,null,de("div",{className:"relative flex  h-full flex-col w-full  outline-none focus:outline-none"},de("div",{className:"flex"},de("div",{className:"flex items-start justify-between w-full p-5 border-b border-solid border-bordercolor rounded-t"},de("div",null,de("h3",{className:"text-2xl text-gray94 font-semibold"},"Select Template")),de("div",{className:"flex flex-row"},de("div",{className:"flex flex-row px-2 text-gray900 border-2 h-8 w border-bordercolor rounded-md  mr-2"},de("button",{className:"pr-2 text-sm"},"Most Popular "))))),de("div",{className:"w-full flex justify-center"},de("div",{className:"mt-3 w-3/6 "},de(o.ErrorBoundary,{FallbackComponent:oe,onReset:()=>{}},de(V,null)))),de("div",{className:" flex gap-4 mt-3 px-6"},null==s||null===(e=s.data)||void 0===e?void 0:e.map((e,t)=>de("button",{key:t,onClick:()=>m(u?null:e),className:"rounded-md px-4 py-1 h-10 "+((null==u?void 0:u.id)===e.id?"text-white bg-indigo700":"bg-lightindigo text-indigo700 ")},Object(se.a)(e.name)))),de("div",null,de("h1",{className:"text-xl font-bold mt-6 px-6 text-gray94"},"Your Templates")),de("div",{className:"pl-6 mt-4 flex flex-row flex-wrap gap-4"},null===(t=n.data)||void 0===t?void 0:t.map((e,t)=>u?e.categoryId===u.id?de("div",{key:t},de(o.ErrorBoundary,{FallbackComponent:ie,onReset:()=>{}},de(re,{templateObj:e}))):void 0:de("div",{key:t},de(o.ErrorBoundary,{FallbackComponent:ie,onReset:()=>{}},de(re,{templateObj:e}))))))))},me=a.a.createElement;const fe=["categories","templates","svg library"];t.default=()=>{const{0:e,1:t}=Object(r.useState)(fe[0]),{0:n,1:a}=Object(r.useState)(!1);return me("div",{className:"min-w-max"},me("div",{className:"h-20 mb-5 flex flex-wrap justify-evenly content-center bg-gray900"},me("div",null),me("p",{className:"text-xl text-white"},"Home"),me("button",{onClick:()=>a(!0),className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Create New Template")),me("div",{className:n?"":"hidden"},me(C,{closeModal:()=>a(!1)})),me("div",null,me("div",{className:"flex flex-no-wrap"},me("div",{style:{minHeight:"80vh"},className:"w-64 absolute sm:relative shadow flex-col justify-between flex"},me("div",{className:"p-8"},me("ul",{className:"mt-12"},me("li",{onClick:()=>t(fe[0]),className:"flex w-full bg-gray300 justify-between hover:text-gray-900 cursor-pointer items-center mb-6"},me("div",{className:"flex items-center  hover:bg-rightbackgroundcolor  w-full hover:rounded-lg border-0 rounded-sm  h-10"},me("p",{className:"text-gray900 font-medium pl-3"},"Categories"))),me("li",{onClick:()=>t(fe[1]),className:"flex w-full bg-gray300 justify-between text-gray900 hover:text-gray-900 cursor-pointer items-center mb-6"},me("div",{className:"flex items-center  hover:bg-rightbackgroundcolor  w-full hover:rounded-lg border-0 rounded-sm h-10"},me("p",{className:"text-gray900 font-medium pl-3"},"Templates"))),me("li",{onClick:()=>t(fe[2]),className:"flex w-full bg-gray300 justify-between text-gray900 hover:text-gray-900 cursor-pointer items-center mb-6"},me("div",{className:"flex items-center  hover:bg-rightbackgroundcolor  w-full hover:rounded-lg border-0 rounded-sm h-10"},me("p",{className:"text-gray900 font-medium pl-3"},"Svg library")))))),me("div",{className:"container mx-auto py-10 md:w-4/5 w-11/12 px-6"},me("div",{className:"w-full h-full rounded border-dashed border-2 border-gray-300"},me("div",{className:e===fe[0]?"":"hidden"},me(o.ErrorBoundary,{FallbackComponent:c,onReset:()=>{}},me(h,null))),me("div",{className:e===fe[1]?"":"hidden"},me(o.ErrorBoundary,{FallbackComponent:f,onReset:()=>{}},me(ue,null))),me("div",{className:e===fe[2]?"":"hidden"},me(o.ErrorBoundary,{FallbackComponent:u,onReset:()=>{}},me(J,null))))))))}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),l=n(6),i=n(8),s=n(11),c=a.a.createElement;var d=({currentSelectedColor:e,handleColorChange:t,handleCloseColorPicker:n})=>{const[r,o]=a.a.useState("#000000");a.a.useEffect(()=>{o(e)},[e]);return c("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},c("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},c("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),c("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),c("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},c("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},c("div",{className:"sm:flex sm:items-start"},c(s.SketchPicker,{color:r,onChange:e=>o(e.hex)}))),c("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},c("button",{onClick:()=>{t(r),n()},type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Done")))))},u=a.a.createElement;function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=()=>{const{0:e,1:t}=Object(r.useContext)(i.b),{0:n,1:a}=Object(r.useState)(!1),{0:s,1:c}=Object(r.useState)(null);return u("div",{className:"min-w-max"},n&&u(d,{currentSelectedColor:s.color,handleColorChange:e=>{t(t=>{const n=t.palette.findIndex(e=>e.name===(null==s?void 0:s.name));t.palette[n].color=e,c(f(f({},s),{},{color:e}))})},handleCloseColorPicker:()=>{a(!1)}}),u("div",{className:"h-20 mb-5 flex flex-wrap justify-evenly content-center bg-gray900"},u(o.NavLink,{to:l.a.home,className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Back to home"),u("p",{className:"text-xl text-white"},"Select Palette"),u("div",null)),"            ",e.palette.map((e,t)=>u("div",{key:t,className:"h-10 mt-5 mb-5 flex flex-wrap justify-center content-center"},u("p",{className:"w-48"},e.name)," ",u("div",{className:"w-10 h-10 border border-black",style:{backgroundColor:e.color},onClick:()=>{return t=e,a(!0),void c(t);var t}}))),u("div",{className:"flex justify-center"},u(o.NavLink,{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-gray300 hover:text-gray900 transition-colors duration-150 bg-gray900 rounded-lg focus:shadow-outline hover:bg-bluish",to:"/tool"},"Proceed")))}}]);
//# sourceMappingURL=server.js.map