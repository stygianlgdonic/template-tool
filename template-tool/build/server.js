module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.e=function(){return Promise.resolve()},n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){process.nextTick((function(){throw e}))},n(n.s=24)}([function(e,t){e.exports=require("react")},function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"i",(function(){return m}));const r={width:500,height:500},a={name:"object",x:200,y:250,width:200,height:200,draggable:!0,type:"image"},o={name:"object",colorMap:{},type:"svg",x:100,y:200,width:100,height:100,draggable:!0},l={name:"object",x:150,y:150,width:100,stroke:"#000000",strokeWidth:4,height:100,fill:"#FF0000",draggable:!0,type:"rectangle"},i={name:"object",x:150,y:250,width:100,stroke:"#000000",strokeWidth:4,height:100,cornerRadius:10,fill:"#FF0000",draggable:!0,type:"rectangle"},s={name:"object",x:200,y:100,radius:50,stroke:"#000000",strokeWidth:4,fill:"#FF0000",draggable:!0,type:"circle"},c={name:"object",x:100,y:150,sides:6,stroke:"#000000",strokeWidth:4,radius:70,fill:"#FF0000",type:"polygon"},u={name:"object",x:20,y:200,stroke:"#000000",strokeWidth:4,fill:"#FF0000",points:[0,100,50,0,100,100],tension:0,closed:!0,type:"line"},d={name:"object",text:"New text",x:150,y:200,fontSize:20,draggable:!0,width:200,type:"text",fill:"#000000"},m=["Montserrat","Comfortaa","Euphoria Script","Josefin Sans","Oswald","Alfa Slab One","Bangers","Caveat","DM Sans","East Sea Dokdo","Homemade Apple","Kristi","Lobster Two","Maven Pro","Monoton","Playfair Display","Raleway","Roboto Slab","Shadows Into Light","Swanky and Moo Moo"]},function(e,t){e.exports=require("react-konva")},function(e,t){e.exports=require("sweetalert")},function(e,t){e.exports=require("react-router-dom")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={home:"/",select_palette:"/selectPalette",design_tool:"/tool/:templateID",design_tool_noID:"/tool"}},function(e,t){e.exports=require("react-error-boundary")},function(e,t){e.exports=require("use-image")},function(e,t){e.exports=require("react-color")},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(0),a=n.n(r),o=n(16),l=n(1),i=a.a.createElement;const s={dimensions:{width:l.j.width,height:l.j.height},tags:[],palette:[{name:"primary",color:"#ff0000"},{name:"secondary",color:"#00ff00"},{name:"tertiary",color:"#0000ff"}],variations:[{name:"untitled",face:"",elements:[{id:"shapes_background",type:"rectangle",x:0,y:0,width:l.j.width,height:l.j.height,fillLinearGradientStartPoint:{x:0,y:0},fillLinearGradientEndPoint:{x:l.j.width,y:l.j.height},fillLinearGradientColorStops:[0,"#FFFFFF",1,"#FFFFFF"],draggable:!1}]}]},c=Object(r.createContext)(null);c.displayName="TemplateContext";const u=({children:e})=>{const[t,n,{goForward:r,goBack:a,stepNum:l,history:u}]=Object(o.useImmerState)(s);return i(c.Provider,{value:[t,n,{goForward:r,goBack:a,stepNum:l,history:u}]},e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r="https://polar-tor-04971.herokuapp.com/template",a="https://polar-tor-04971.herokuapp.com/template",o="https://polar-tor-04971.herokuapp.com/template",l="https://polar-tor-04971.herokuapp.com/template",i={getAllTemplates:async function(){const e=await fetch(r);if(!e.ok)throw new Error("Error while fetching Templates");return e.json()},addNewTemplate:async function(e){const t=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error while adding new template");return t.json()},getTemplateByID:async function(e){if(!e)return;const t=await fetch(`${r}/${e}`);if(!t.ok)throw new Error("Error while fetching Template");return t.json()},updateTemplateByID:async function(e,t){console.log({JSON:JSON.stringify(t),templateData:t});const n=await fetch(`${o}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log({response:n}),!n.ok)throw new Error("Error while updating template");return n.json()},deleteTemplateByID:async function(e){const t=await fetch(`${l}/${e}`,{method:"DELETE"});if(console.log({response:t}),!t.ok)throw new Error("Error while delete template");return t.json()}}},function(e,t,n){"use strict";var r=n(12),a=n(15);t.a=()=>{const{data:e,error:t,isLoading:n}=Object(r.useQuery)("categories",a.a.getAllCategories);return{categoriesList:e,error:t,isLoading:n}}},function(e,t){e.exports=require("react-query")},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>{if(e){let t=null==e?void 0:e.toLowerCase().split("_");for(let e=0;e<(null==t?void 0:t.length);e++)t[e]=t[e][0].toUpperCase()+t[e].slice(1);return null==t?void 0:t.join(" ")}return console.log("no value to convert to titleCase"),e||""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r="https://polar-tor-04971.herokuapp.com/templatecategory",a="https://polar-tor-04971.herokuapp.com/templatecategory",o="https://polar-tor-04971.herokuapp.com/templatecategory",l="https://polar-tor-04971.herokuapp.com/templatecategory",i={getAllCategories:async function(){const e=await fetch(r);if(!e.ok)throw new Error("Error while fetching Categories");return e.json()},addNewCategory:async function(e){const t=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Error while adding new category");return t.json()},getCategoryByID:async function(e){if(!e)return;const t=await fetch(`${r}/${e}`);if(!t.ok)throw new Error("Error while fetching Category");return t.json()},updateCategoryByID:async function(e,t){console.log({JSON:JSON.stringify(t),categoryData:t});const n=await fetch(`${o}/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(console.log({response:n}),!n.ok)throw new Error("Error while updating category");return n.json()},deleteCategoryByID:async function(e){const t=await fetch(`${l}/${e}`,{method:"DELETE"});if(console.log({response:t}),!t.ok)throw new Error("Error while delete category");return t.json()}}},function(e,t){e.exports=require("@shrugsy/use-immer-state")},function(e,t){e.exports=require("use-file-upload")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(e){var t=r(e,4),n=t[1],a=t[3];if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(l," */"),s=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[n].concat(s).concat([i]).join("\n")}return[n].join("\n")}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var i=0;i<e.length;i++){var s=[].concat(e[i]);r&&a[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){e.exports=n.p+"static/media/plus.cc6d96c4.svg"},function(e,t,n){e.exports=n.p+"static/media/chevron-down.c16040f3.svg"},function(e,t){e.exports=require("webfontloader")},function(e,t,n){e.exports=n(25)},function(e,t,n){"use strict";n.r(t);var r=n(13),a=n.n(r);let o=n(28).default;const l=parseInt("4000");t.default=a()().use((e,t)=>o.handle(e,t)).listen(l,()=>{console.log("> App started http://localhost:"+l)})},function(e,t,n){"use strict";var r=n(19),a=n.n(r),o=n(20),l=n.n(o)()(a.a);l.push([e.i,"@tailwind base;\n\n@tailwind components;\n\n@tailwind utilities;\n","",{version:3,sources:["webpack://./node_modules/tailwindcss/tailwind.css"],names:[],mappings:"AAAA,cAAc;;AAEd,oBAAoB;;AAEpB,mBAAmB",sourcesContent:["@tailwind base;\n\n@tailwind components;\n\n@tailwind utilities;\n"],sourceRoot:""}])},function(e){e.exports=JSON.parse('{"1":{"js":["/static/js/1.4a98443c.chunk.js"],"map":["/static/js/1.4a98443c.chunk.js.map"],"chunks":[1]},"2":{"js":["/static/js/2.00ed587c.chunk.js"],"map":["/static/js/2.00ed587c.chunk.js.map"],"chunks":[2]},"3":{"js":["/static/js/3.3a3f63d6.chunk.js"],"map":["/static/js/3.3a3f63d6.chunk.js.map"],"chunks":[3]},"client":{"css":["/static/css/client.b4ef6ccd.css"],"js":["/static/js/client.06e9ae5a.js"],"map":["/static/css/client.b4ef6ccd.css.map","/static/js/client.06e9ae5a.js.map"],"chunks":[0]},"noentry":{"ico":["/favicon.ico"],"txt":["/robots.txt","/static/js/1.4a98443c.chunk.js.LICENSE.txt","/static/js/3.3a3f63d6.chunk.js.LICENSE.txt","/static/js/client.06e9ae5a.js.LICENSE.txt"],"svg":["/static/media/chevron-down.c16040f3.svg","/static/media/plus.cc6d96c4.svg"]}}')},function(e,t,n){"use strict";n.r(t),n.d(t,"renderApp",(function(){return y}));var r=n(13),a=n.n(r),o=n(0),l=n.n(o),i=n(18),s=n(4);var c=({children:e})=>{const{0:t,1:n}=Object(o.useState)(!1);return Object(o.useEffect)(()=>{n(!0)},[]),t?e:null},u=n(5),d=n(9),m=(n(26),l.a.createElement);const f=l.a.lazy(()=>Promise.resolve().then(n.bind(null,29))),p=l.a.lazy(()=>Promise.resolve().then(n.bind(null,31))),g=l.a.lazy(()=>Promise.resolve().then(n.bind(null,30)));var b=()=>m(s.Switch,null,m(c,null,m(d.c,null,m(s.Route,{exact:!0,path:u.a.home,render:()=>m(l.a.Suspense,{fallback:m("div",null,"Loading ...")},m(g,null))}),m(s.Route,{exact:!0,path:u.a.select_palette,render:()=>m(l.a.Suspense,{fallback:m("div",null,"Loading ...")},m(p,null))}),m(s.Route,{exact:!0,path:u.a.design_tool,render:()=>m(l.a.Suspense,{fallback:m("div",null,"Loading ...")},m(f,null))}),m(s.Route,{exact:!0,path:u.a.design_tool_noID,render:()=>m(l.a.Suspense,{fallback:m("div",null,"Loading ...")},m(f,null))})))),h=l.a.createElement;let v;v=n(27);const y=(e,t)=>{const n={},r=Object(i.renderToString)(h(s.StaticRouter,{context:n,location:e.url},h(b,null)));if(n.url)return{redirect:n.url};return{html:`<!doctype html>\n    <html lang="">\n    <head>\n        <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n        <meta charSet='utf-8' />\n        <title>Welcome to Razzle</title>\n        <meta name="viewport" content="width=device-width, initial-scale=1">\n        ${((e,t)=>e[t]&&e[t].css?e[t].css.map(e=>`<link rel="stylesheet" href="${e}">`).join(""):"")(v,"client")}\n    </head>\n    <body>\n        <div id="root">${r}</div>\n        ${((e,t,n="")=>e[t]&&e[t].js?e[t].js.map(e=>`<script src="${e}"${n}><\/script>`).join(""):"")(v,"client"," defer crossorigin")}\n    </body>\n  </html>`}},x=a()().disable("x-powered-by").use(a.a.static("build\\public")).get("/*",(e,t)=>{const{html:n="",redirect:r=!1}=y(e,t);r?t.redirect(r):t.send(n)});t.default=x},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),l=a.a.createElement;var i=({variations:e,variationIndex:t,setVariationIndex:n})=>l("div",{className:"flex"},e.map((e,r)=>l("p",{key:r,className:`${t===r?"text-red-100":"text-red-800"} block px-4 py-2 mr-1 ml-1 text-sm cursor-pointer rounded border border-gray-900 ${t===r?"bg-red-700 hover:bg-red-800":""}`,onClick:()=>n(r),role:"menuitem",tabIndex:-1},e.name))),s=n(16),c=a.a.createElement;var u=({handleSaveVariation:e,templateData:t})=>{const[n,r]=Object(s.useImmerState)({name:"untitled",face:"#FF0000"});return c("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},c("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},c("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),c("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),c("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},c("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},c("div",{className:""},c("label",null,"Name: "),c("input",{type:"text",placeholder:"Variation name",onChange:e=>r(t=>{t.name=e.target.value})}),c("div",null,"Current face: ",c("div",{className:"w-10 h-10 m-5 border border-black",style:{backgroundColor:n.face}})),c("p",null,"Select face: "),t.palette.map((e,t)=>c("div",{key:t,className:"inline-block"},c("div",{className:"w-10 h-10 m-5 border border-black",style:{backgroundColor:e.color},onClick:()=>r(t=>{t.face=e.color})}))))),c("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},c("button",{onClick:()=>e(n),type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Save")))))},d=n(3),m=n.n(d),f=n(21),p=n.n(f);const g=["onClick","startIcon","endIcon","error","helperText","className","label"];var b=a.a.createElement;function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const y=e=>{let{onClick:t,startIcon:n,endIcon:r,error:o,helperText:l,className:i,label:s}=e,c=v(e,g);return b(a.a.Fragment,null,b("div",{className:"mb-4 relative  "},b("label",{className:"text-jacksonsPurple"},s),b("br",null),b("input",h({},c,{className:i,style:{textIndent:n?"15px":""}})),b("img",{src:n,alt:"error",width:"18",className:n?" absolute left-0 top-0 mt-9 ml-2":"hidden"}),b("img",{onClick:t,src:r,alt:"error",width:"18",className:r?"absolute right-0 top-0 mt-9 mr-4  cursor-pointer ":"hidden"}),b("p",{className:l?"text-red text-sm pl-2 transition duration-500":"hidden"},l)))};var x=Object(r.memo)(y);const w=["isLoading","loadingProps","startIcon","endIcon","className","style","children"];var O=a.a.createElement;function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const N=e=>{let{isLoading:t,loadingProps:n,startIcon:r,endIcon:o,className:l,style:i,children:s}=e,c=k(e,w);return O(a.a.Fragment,null,O("button",j({className:l||"w-full  justify-center place-items-center flex focus:outline-none relative ",style:{paddingLeft:r?"30px":""}},c),t?O("svg",j({className:"animate-spin w-6 ",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"white"},n),O("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})):s),O("img",{src:r,alt:"error",width:"20",className:r?"absolute    ml-2 ":"hidden"}),O("img",{src:o,alt:"error",width:"20",className:o?"absolute right-0 top-0 mt-3.5 mr-4  cursor-pointer ":"hidden"}))};var S=Object(r.memo)(N);var C=(e,t,n,r,a)=>{let o=new Blob([`<svg xmlns="${e}" fill="${n}" viewBox="${t}" stroke="${r}">${a}</svg>`],{type:"image/svg+xml"});return URL.createObjectURL(o)},E=n(22),P=n.n(E);var D=n(14);const I=["label","value","onChange","dataArray","width"];var T=a.a.createElement;function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const L=e=>{let{label:t,value:n,onChange:o,dataArray:l,width:i}=e;F(e,I);const{ref:s,isComponentVisible:c,setIsComponentVisible:u}=function(e){const{0:t,1:n}=Object(r.useState)(e),a=Object(r.useRef)(null),o=e=>{a.current&&!a.current.contains(e.target)&&n(!1)};return Object(r.useEffect)(()=>(document.addEventListener("click",o,!0),()=>{document.removeEventListener("click",o,!0)})),{ref:a,isComponentVisible:t,setIsComponentVisible:n}}(!1);return T(a.a.Fragment,null,T("div",{className:"flex flex-col bg-gray94  w-60 "},T("label",{className:"text-base text-left text-grey top-16  "},t),T("div",{className:" w-full relative",ref:s},T("button",{onClick:()=>u(!c),className:"relative bg-white text-left pl-5 w-full border py-2 border-gray95 rounded-md shadow-sm cursor-pointer focus:outline-none text-jacksonsPurple focus:ring-1 focus:ring-radicalRed focus:border-radicalRed text-base"},T("h2",{className:"truncate"},Object(D.a)(n)),T("div",{className:"absolute inset-y-0 right-0 pr-2 flex items-center  pointer-events-none"},T("img",{src:P.a,className:"w-4 "}))),T("ul",{className:c?"w-full absolute z-20 mt-1  bg-white shadow-lg  rounded-md py-1 text-base ring-1 ring-black ring-opacity-5  focus:outline-none sm:text-sm":"hidden"},(null==l?void 0:l.length)&&l.map((e,t)=>T("li",{key:t,className:"text-mineShaft select-none cursor-pointer relative py-2 pl-3 pr-9 hover:bg-gray94  ",value:e.name,onClick:()=>{o(e),u(!1)}},T("div",{className:"flex items-center"},T("h2",{className:"text-jacksonsPurple font-normal ml-3 block truncate "},Object(D.a)(e.name)))))))))};var R=Object(r.memo)(L),M=n(11),A=a.a.createElement;var B=({templateData:e,handleSaveTemplate:t})=>{const{0:n,1:a}=Object(r.useState)([]),{0:o,1:l}=Object(r.useState)(!0),{0:i,1:s}=Object(r.useState)(""),{categoriesList:c,error:u,isLoading:d}=Object(M.a)(),{0:f,1:g}=Object(r.useState)(c?c[0]:null);Object(r.useEffect)(()=>{var t;null!==(t=e.tags)&&void 0!==t&&t.length&&a(e.tags)},[]);const b=C("http://www.w3.org/2000/svg","0 0 24 24","white","#FF3C69",'  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />'),h=e=>{if(!e)return;n.filter(t=>t==e).length&&!o?m()({title:"Tag already added",icon:"error"}):(a([...n,e]),l(!1))},v=()=>{t(n,null==f?void 0:f.id)};return A("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},A("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},A("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),A("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),A("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},A("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},A("div",{className:"h-96"},A("div",null,A(x,{label:"Enter Tag",id:"tagName",name:"tagName",value:i,onChange:e=>{s(e.target.value)},placeholder:"Enter tag",onKeyDown:e=>{"Enter"===e.key&&(h(i),s(""))},onClick:()=>{h(i),s("")},endIcon:p.a,className:"relative  border border-grey appearance-none rounded w-full p-2 mt-0 focus:outline-none cursor-text"}),A("div",{className:"flex flex-grow flex-wrap flex-col"},n.map((e,t)=>A("div",{key:t,className:"flex justify-between rounded-3xl px-5 py-1 border-radicalRed border-2 mt-1 text-radicalRed "},A("p",null,e),A("img",{onClick:()=>(e=>{let t=[...n];t.splice(e,1),a(t)})(t),src:b,alt:"error",className:"w-4  cursor-pointer "})))),A("div",{className:"z-20"},A(R,{label:"Select Category",value:(null==f?void 0:f.name)||"none",onChange:e=>{g(e)},dataArray:c}))))),A("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 flex justify-between"},A("div",{className:"mt-2"},A(S,{loadingProps:{size:24,style:{color:"white"}},disableElevation:!0,onClick:v,type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:"red-button"},"Close")),A("div",{className:"mt-2"},A(S,{loadingProps:{size:24,style:{color:"white"}},disableElevation:!0,onClick:v,type:"submit",fullWidth:!0,variant:"contained",color:"secondary",className:"red-button"},"Save Template"))))))},_=n(1);function X(e){return(new DOMParser).parseFromString(e,"image/svg+xml")}function G(e){return e.getAttribute("fill")}var U=n(17),Y=a.a.createElement;function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=({variationIndex:e,setTemplateData:t})=>{const[n,r]=Object(U.useFileUpload)();return Y("div",null,Y("div",{className:"flex justify-center"},Y("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(z(z({},_.d),{},{id:"shapes_"+n.toString()}))})}},"Add new Square")),Y("div",{className:"flex justify-center"},Y("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(z(z({},_.a),{},{id:"shapes_"+n.toString()}))})}},"Add new Circle")),Y("div",{className:"flex justify-center"},Y("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(z(z({},_.h),{},{id:"shapes_"+n.toString()}))})}},"Add new Triangle")),Y("div",{className:"flex justify-center"},Y("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(z(z({},_.c),{},{id:"shapes_"+n.toString()}))})}},"Add new Pentagon")),Y("div",{className:"flex justify-center"},Y("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(z(z({},_.e),{},{id:"shapes_"+n.toString()}))})}},"Add new Rounded Square")),Y("div",{className:"flex justify-center"},Y("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(z(z({},_.g),{},{id:"textBoxes_"+n.toString()}))})}},"Add new Text")),Y("div",{className:"flex justify-center"},Y("p",null,"upload svg"),Y("input",{className:"",type:"file",accept:".svg",onChange:n=>{var r;(r=n.target.files,new Promise((e,t)=>{try{var n=new FileReader;n.onload=function(t){var n=t.target.result,r=(new DOMParser).parseFromString(n,"image/svg+xml");e(r.documentElement.outerHTML)},n.readAsText(r[0])}catch(e){t(e)}})).then(n=>{t(t=>{let r=(new Date).getTime();t.variations[e].elements.push(z({id:"svgs_"+r.toString(),svgString:n},_.f))})})}})),Y("div",{className:"flex justify-center"},Y("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{r({accept:"image/png, image/jpg, image/jpeg",multiple:!1},({file:n})=>{const r=new FileReader;r.readAsDataURL(n),r.onload=()=>{t(t=>{let n=(new Date).getTime();t.variations[e].elements.push(z(z({},_.b),{},{src:r.result,id:"images_"+n.toString()}))})}})}},"Upload image")))},V=n(23),H=n.n(V),W=a.a.createElement;var K=({onUndo:e,onRedo:t,setTemplateData:n,variationIndex:r,selectedId:a,setSelectedId:o})=>W("div",{className:"flex justify-center"},W("div",{className:"flex justify-center"},W("button",{onClick:()=>o("shapes_background"),className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Edit Background")),W("div",{className:"flex justify-center"},W("button",{onClick:()=>{a&&"shapes_background"!==a&&n(e=>{const t=e.variations[r].elements.findIndex(e=>e.id===a);if(t<e.variations[r].elements.length-1){const n=e.variations[r].elements[t+1];e.variations[r].elements[t+1]=e.variations[r].elements[t],e.variations[r].elements[t]=n}})},className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Bring to front")),W("div",{className:"flex justify-center"},W("button",{onClick:()=>{a&&"shapes_background"!==a&&n(e=>{const t=e.variations[r].elements.findIndex(e=>e.id===a);if(t>1){const n=e.variations[r].elements[t-1];e.variations[r].elements[t-1]=e.variations[r].elements[t],e.variations[r].elements[t]=n}})},className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Bring to Back")),W("div",{className:"flex justify-center"},W("button",{onClick:e,className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Undo")),W("div",{className:"flex justify-center"},W("button",{onClick:t,className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Redo"))),Q=n(2),Z=n(7),ee=n.n(Z);const te=["patternImageUrl"];var ne=a.a.createElement;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var se=({shapeProps:e,onSelect:t,onChange:n,onEditClick:o})=>{const l=Object(r.useRef)(null),{patternImageUrl:i}=e,s=ie(e,te),[c]=ee()(i||null),u=s.width,d=s.height,m=c?c.width:10,f=c?c.height:10,p=s.patternScale||Math.max(u/m,d/f);return ne(a.a.Fragment,null,ne(Q.Rect,re({ref:l,onClick:t,onTap:t,onDblClick:o,onDblTap:o,draggable:!0,strokeScaleEnabled:!1,onTransformEnd:t=>{const r=l.current,a=r.scaleX(),o=r.scaleY();r.scaleX(1),r.scaleY(1),n(oe(oe({},e),{},{x:r.x(),y:r.y(),width:Math.max(r.width()*a),height:Math.max(r.height()*o)}))},onDragEnd:t=>{n(oe(oe({},e),{},{x:t.target.x(),y:t.target.y()}))},fillPatternImage:c,fillPatternOffsetX:0,fillPatternOffsetY:0,fillPatternScaleX:p,fillPatternScaleY:p,fillPatternRepeat:"no-repeat"},s)))};const ce=["patternImageUrl"];var ue=a.a.createElement;function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var be=({shapeProps:e,onSelect:t,onChange:n,onEditClick:o})=>{const l=Object(r.useRef)(null),{patternImageUrl:i}=e,s=ge(e,ce),[c]=ee()(i||null);return ue(a.a.Fragment,null,ue(Q.Circle,de({ref:l,onClick:t,onTap:t,onDblClick:o,onDblTap:o,draggable:!0,strokeScaleEnabled:!1,onTransformEnd:t=>{n(fe(fe({},e),{},{scaleX:t.target.attrs.scaleX,scaleY:t.target.attrs.scaleY}))},onDragEnd:t=>{n(fe(fe({},e),{},{x:t.target.x(),y:t.target.y()}))},fillPatternImage:c,fillPatternOffsetX:0,fillPatternOffsetY:0,fillPatternScaleX:.1,fillPatternScaleY:.1,fillPatternRepeat:"no-repeat"},s)))};const he=["patternImageUrl"];var ve=a.a.createElement;function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ke=({shapeProps:e,onSelect:t,onChange:n,onEditClick:o})=>{const l=Object(r.useRef)(null),{patternImageUrl:i}=e,s=je(e,he),[c]=ee()(i||null);return ve(a.a.Fragment,null,ve(Q.RegularPolygon,ye({ref:l,onClick:t,onTap:t,onDblClick:o,onDblTap:o,draggable:!0,strokeScaleEnabled:!1,onDragEnd:t=>{n(we(we({},e),{},{x:t.target.x(),y:t.target.y()}))},onTransformEnd:t=>{n(we(we({},e),{},{scaleX:t.target.attrs.scaleX,scaleY:t.target.attrs.scaleY}))},fillPatternImage:c,fillPatternOffsetX:0,fillPatternOffsetY:0,fillPatternScaleX:.1,fillPatternScaleY:.1,fillPatternRepeat:"no-repeat"},s)))};const Ne=["patternImageUrl"];var Se=a.a.createElement;function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Te=({shapeProps:e,onSelect:t,onChange:n,onEditClick:o})=>{const l=Object(r.useRef)(null),{patternImageUrl:i}=e,s=Ie(e,Ne),[c]=ee()(i||null);return Se(a.a.Fragment,null,Se(Q.Line,Ce({ref:l,onClick:t,onTap:t,onDblClick:o,onDblTap:o,draggable:!0,strokeScaleEnabled:!1,onTransformEnd:t=>{n(Pe(Pe({},e),{},{scaleX:t.target.attrs.scaleX,scaleY:t.target.attrs.scaleY}))},onDragEnd:t=>{n(Pe(Pe({},e),{},{x:t.target.x(),y:t.target.y()}))},fillPatternImage:c,fillPatternOffsetX:0,fillPatternOffsetY:0,fillPatternScaleX:.1,fillPatternScaleY:.1,fillPatternRepeat:"no-repeat"},s)))},Fe=a.a.createElement;function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Re=({svgProps:e,onChange:t,onSelect:n,onEditClick:r})=>{const[o]=ee()((l=function(e,t){const n=X(e);var r=n.getElementsByTagName("*");for(const e of r){const n=G(e);t[n]&&e.setAttribute("fill",t[n])}return(new XMLSerializer).serializeToString(n)}(e.svgString,e.colorMap),"data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(l)))));var l;return Fe(a.a.Fragment,null,Fe(Q.Image,Le({},e,{image:o,onClick:n,onTap:n,onDblClick:r,onDblTap:r,onDragEnd:t,onTransformEnd:t})))},Me=a.a.createElement;function Ae(){return(Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Be=({textProps:e,onChange:t,onSelect:n,onEditClick:a})=>{const o=Object(r.useRef)(null);return Me(Q.Text,Ae({ref:o,draggable:!0,onClick:n,onTap:n,onDblClick:a,onDblTap:a,onTransform:e=>{let t=o.current.scaleX(),n=o.current.width();o.current.setAttrs({width:n*t,scaleX:1,scaleY:1})},onDragEnd:t},e))},_e=a.a.createElement;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=({id:e,selectedShapeName:t,templateData:n,$tr:o})=>{Object(r.useEffect)(()=>{l()},[t,n.variations]);const l=()=>{const e=o.current.getStage().findOne("#"+t);e?o.current.nodes([e]):o.current.detach(),o.current.getLayer().batchDraw()};return _e(a.a.Fragment,null,_e(Q.Transformer,{id:e,ref:o,ignoreStroke:!0,boundBoxFunc:(e,n)=>"shapes_background"===t?e:n.width<50?Ge(Ge({},e),{},{width:50}):n}))};const $e=["src"];var ze=a.a.createElement;function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ve=({imageProps:e,onChange:t,onSelect:n})=>{const[r]=ee()(e.src),{src:o}=e,l=Je(e,$e);return ze(a.a.Fragment,null,ze(Q.Image,qe({},l,{image:r,onClick:()=>n(e.id),onTap:()=>n(e.id),onDragEnd:t,onTransformEnd:t})))},He=a.a.createElement;function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=({templateData:e,setTemplateData:t,variationIndex:n,selectedId:o,setSelectedId:l,unSelectAll:i,handleEditSelectedItem:s})=>{var c;const u=Object(r.useRef)(null),d=Object(r.useRef)(null),m=Object(r.useRef)(null),f=Object(r.useRef)(null),p=Object(r.useRef)({visible:!1,x1:0,y1:0,x2:0,y2:0}),{0:g,1:b}=Object(r.useState)([]),h=window.Konva,v=()=>{const e=f.current;e.setAttrs({visible:p.current.visible,x:Math.min(p.current.x1,p.current.x2),y:Math.min(p.current.y1,p.current.y2),width:Math.abs(p.current.x1-p.current.x2),height:Math.abs(p.current.y1-p.current.y2),fill:"rgba(0, 161, 255, 0.3)"}),e.getLayer().batchDraw()},y=a.a.useRef(null);return He(Q.Stage,We({ref:u,onMouseDown:e=>{const t=e.target.findAncestor(".elements-container"),n=e.target.findAncestor("Transformer");if(t||n)return;const r=e.target.getStage().getPointerPosition();p.current.visible=!0,p.current.x1=r.x,p.current.y1=r.y,p.current.x2=r.x,p.current.y2=r.y,v()},onMouseUp:()=>{if(y.current=null,!p.current.visible)return;const e=f.current.getClientRect(),t=[];d.current.find(".object").forEach(n=>{const r=n.getClientRect();h.Util.haveIntersection(e,r)&&t.push(n)}),m.current.nodes(t),p.current.visible=!1,h.listenClickTap=!1,v()},onMouseMove:e=>{if(!p.current.visible)return;const t=e.target.getStage().getPointerPosition();p.current.x2=t.x,p.current.y2=t.y,v()},onTouchStart:e=>{e.target===e.target.getStage()&&(i(),m.current.nodes([]),b([]))},onClick:e=>{if(f.current.visible())return;let t=e.target.getStage(),n=d.current,r=m.current;if(e.target===t)return i(),b([]),r.nodes([]),void n.draw();if(!e.target.hasName(".object"))return;const a=e.evt.shiftKey||e.evt.ctrlKey||e.evt.metaKey,o=r.nodes().indexOf(e.target)>=0;if(a||o){if(a&&o){const t=r.nodes().slice();t.splice(t.indexOf(e.target),1),r.nodes(t)}else if(a&&!o){const t=r.nodes().concat([e.target]);r.nodes(t)}}else r.nodes([e.target]);n.draw()}},_.j),He(Q.Layer,{ref:d,onDragMove:e=>{const t=d.current.find(".guid-line");t.length&&t.forEach(e=>e.destroy());const n=((e,t)=>{const n=[],r=[];e.vertical.forEach(e=>{t.vertical.forEach(t=>{const r=Math.abs(e-t.guide);r<5&&n.push({lineGuide:e,diff:r,snap:t.snap,offset:t.offset})})}),e.horizontal.forEach(e=>{t.horizontal.forEach(t=>{const n=Math.abs(e-t.guide);n<5&&r.push({lineGuide:e,diff:n,snap:t.snap,offset:t.offset})})});const a=[],o=n.sort((e,t)=>e.diff-t.diff)[0],l=r.sort((e,t)=>e.diff-t.diff)[0];return o&&a.push({lineGuide:o.lineGuide,offset:o.offset,orientation:"V",snap:o.snap}),l&&a.push({lineGuide:l.lineGuide,offset:l.offset,orientation:"H",snap:l.snap}),a})((e=>{const t=[0,_.j.width/2,_.j.width],n=[0,_.j.height/2,_.j.height];return u.current.find(".object").forEach(r=>{if(r===e)return;const a=r.getClientRect();t.push([a.x,a.x+a.width,a.x+a.width/2]),n.push([a.y,a.y+a.height,a.y+a.height/2])}),{vertical:t.flat(),horizontal:n.flat()}})(e.target),(e=>{const t=e.getClientRect();return{vertical:[{guide:Math.round(t.x),offset:Math.round(e.x()-t.x),snap:"start"},{guide:Math.round(t.x+t.width/2),offset:Math.round(e.x()-t.x-t.width/2),snap:"center"},{guide:Math.round(t.x+t.width),offset:Math.round(e.x()-t.x-t.width),snap:"end"}],horizontal:[{guide:Math.round(t.y),offset:Math.round(e.y()-t.y),snap:"start"},{guide:Math.round(t.y+t.height/2),offset:Math.round(e.y()-t.y-t.height/2),snap:"center"},{guide:Math.round(t.y+t.height),offset:Math.round(e.y()-t.y-t.height),snap:"end"}]}})(e.target));n.length&&((e=>{e.forEach(e=>{if("H"===e.orientation){const t=new h.Line({points:[-6e3,e.lineGuide,6e3,e.lineGuide],stroke:"rgb(0, 161, 255)",strokeWidth:1,name:"guid-line",dash:[4,6]});d.current.add(t),d.current.batchDraw()}else if("V"===e.orientation){const t=new h.Line({points:[e.lineGuide,-6e3,e.lineGuide,6e3],stroke:"rgb(0, 161, 255)",strokeWidth:1,name:"guid-line",dash:[4,6]});d.current.add(t),d.current.batchDraw()}})})(n),n.forEach(t=>{switch(t.snap){case"start":case"center":case"end":switch(t.orientation){case"V":e.target.x(t.lineGuide+t.offset);break;case"H":e.target.y(t.lineGuide+t.offset);break;default:return}break;default:return}}))},onDragEnd:e=>{const t=d.current.find(".guid-line");t.length&&t.forEach(e=>e.destroy()),d.current.batchDraw()}},null===(c=e.variations[n].elements)||void 0===c?void 0:c.map((e,r)=>"rectangle"===e.type?He(se,{key:r,shapeProps:e,onSelect:t=>{if(void 0!==t.current){let e=g;g.includes(t.current)||e.push(t.current),b(e),m.current.nodes(g),m.current.nodes(g),m.current.getLayer().batchDraw()}"shapes_background"!==e.id&&l(e.id)},onEditClick:s,onChange:r=>{t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=r})}}):"circle"===e.type?He(be,{key:r,shapeProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>{t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=r})}}):"line"===e.type?He(Te,{key:r,shapeProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>{t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=r})}}):"polygon"===e.type?He(ke,{key:r,shapeProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>{t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=r})}}):"svg"===e.type?He(Re,{key:r,svgProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=Qe(Qe({},t.variations[n].elements[a]),JSON.parse(JSON.stringify(r.target.attrs)))})}):"image"===e.type?He(Ve,{key:r,imageProps:e,onSelect:()=>{l(e.id)},onChange:r=>t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=Qe(Qe({},t.variations[n].elements[a]),JSON.parse(JSON.stringify(r.target.attrs)))})}):"text"===e.type?He(Be,{key:r,textProps:e,onSelect:()=>{l(e.id)},onEditClick:s,onChange:r=>t(t=>{const a=t.variations[n].elements.findIndex(t=>t.id===e.id);t.variations[n].elements[a]=Qe({},r.target.attrs)})}):void 0),He(Ye,{id:"tr"+o,$tr:m,selectedShapeName:o,templateData:e}),He(Q.Rect,{fill:"rgba(0,0,255,0.5)",ref:f})))},tt=n(8),nt=a.a.createElement;var rt=({selectedId:e,variationIndex:t,templateData:n,setTemplateData:a,handleCloseEditTextModal:o})=>{const{0:l,1:i}=Object(r.useState)(""),{0:s,1:c}=Object(r.useState)(20),{0:u,1:d}=Object(r.useState)("normal"),{0:m,1:f}=Object(r.useState)(_.i[0]),{0:p,1:g}=Object(r.useState)("left"),{0:b,1:h}=Object(r.useState)("#000000");Object(r.useEffect)(()=>{if("textBoxes"===(null==e?void 0:e.split("_")[0])){const r=n.variations[t].elements.findIndex(t=>t.id===e);i(n.variations[t].elements[r].text),c(n.variations[t].elements[r].fontSize),d(n.variations[t].elements[r].fontStyle),f(n.variations[t].elements[r].fontFamily),g(n.variations[t].elements[r].align),h(n.variations[t].elements[r].fill)}},[e]);return nt("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},nt("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},nt("div",{className:""},nt("p",null,"Font Size:"),nt("input",{className:"border mb-5",type:"number",value:s,onChange:e=>c(parseInt(e.target.value))}),nt("p",null,"Select Font style:"),nt("select",{className:"border mb-5",name:"font-style",onChange:e=>d(e.target.value)},nt("option",{value:"normal"},"normal"),nt("option",{value:"bold"},"bold"),nt("option",{value:"italic"},"italic"),nt("option",{value:"italic bold"},"italic bold")),nt("p",null,"Select Text Alignment:"),nt("select",{className:"border mb-5",name:"text-align",onChange:e=>g(e.target.value)},nt("option",{value:"left"},"left"),nt("option",{value:"center"},"center"),nt("option",{value:"right"},"right")),nt("p",null,"Select font family:"),nt("select",{value:m,style:{fontFamily:m},onChange:e=>f(e.target.value),className:"border mb-5"},_.i.map((e,t)=>nt("option",{className:"bg-white text-black",style:{fontFamily:e},key:t,selected:e===m,value:e},e))),nt("p",null,"Text color:"),nt(tt.SketchPicker,{width:"150px",color:b,onChange:e=>h(e.hex)})),nt("div",{className:"mt-5"},nt("textarea",{className:"border h-40 w-full",style:{fontFamily:m,fontSize:s,fontStyle:u,textAlign:p,color:b},value:l,onChange:e=>i(e.target.value)}))),nt("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},nt("button",{onClick:()=>{a(n=>{const r=n.variations[t].elements.findIndex(t=>t.id===e);n.variations[t].elements[r].text=l,n.variations[t].elements[r].fontSize=s,n.variations[t].elements[r].fontStyle=u,n.variations[t].elements[r].fontFamily=m,n.variations[t].elements[r].align=p,n.variations[t].elements[r].fill=b}),o()},type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Done")))},at=a.a.createElement;var ot=({selectedId:e,templateData:t,setTemplateData:n,variationIndex:r,currentPalette:a})=>{const[o,l]=Object(U.useFileUpload)(),i=t=>{n(n=>{const a=n.variations[r].elements.find(t=>t.id===e);a.fill=t,a.patternImageUrl=void 0})},s=(t,a)=>{n(n=>{const o=n.variations[r].elements.find(t=>t.id===e);o.fill="",o.fillLinearGradientColorStops=[0,t,1,a],o.fillLinearGradientStartPoint={x:0,y:0},o.fillLinearGradientEndPoint={x:"shapes_background"===e?_.j.width:100,y:"shapes_background"===e?_.j.height:100},o.patternImageUrl=void 0})},c=t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).fillPatternScaleX=parseFloat(t.target.value)})},u=t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).fillPatternScaleY=parseFloat(t.target.value)})},d=t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).fillPatternOffsetX=parseInt(t.target.value)})},m=t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).fillPatternOffsetY=parseInt(t.target.value)})},f=t.variations[r].elements.find(t=>t.id===e);return at("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},at("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},at("div",{className:"shapes_background"!==e?"":"hidden"},at("p",null,"Border width: "),at("input",{className:"border mb-5",type:"number",min:0,value:null==f?void 0:f.strokeWidth,onChange:t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).strokeWidth=parseInt(t.target.value)})}}),at("p",null,"Corner radius:"),at("input",{className:"border mb-5",type:"number",min:0,value:null==f?void 0:f.cornerRadius,onChange:t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).cornerRadius=parseInt(t.target.value)})}}),at("p",null,"Opacity: "),at("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.opacity,step:.1,min:.1,max:1,onChange:t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).opacity=parseFloat(t.target.value)})}}),at("p",null,"Image Scale X: "),at("input",{className:"border mb-5",type:"number",step:.1,value:null==f?void 0:f.fillPatternScaleX,onChange:c}),at("p",null,"Image Scale Y: "),at("input",{className:"border mb-5",type:"number",step:.1,value:null==f?void 0:f.fillPatternScaleY,onChange:u}),at("p",null,"Image offset X: "),at("input",{className:"border mb-5",type:"number",step:10,value:null==f?void 0:f.fillPatternOffsetX,onChange:d}),at("p",null,"Image offset Y: "),at("input",{className:"border mb-5",type:"number",step:10,value:null==f?void 0:f.fillPatternOffsetY,onChange:m}),at("p",null,"Borer color:"),at(tt.SketchPicker,{width:"150px",color:null==f?void 0:f.stroke,onChange:t=>{n(n=>{n.variations[r].elements.find(t=>t.id===e).stroke=t.hex})}})),at("div",{className:null!=f&&f.fillPatternImage?"":"hidden"},at("p",null,"Image Offset X: "),at("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.fillPatternOffsetX,step:.1,min:.1,max:1,onChange:d}),at("p",null,"Image Offset Y: "),at("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.fillPatternOffsetY,step:.1,min:.1,max:1,onChange:m}),at("p",null,"Image Scale X: "),at("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.fillPatternScaleX,step:.1,min:.1,max:1,onChange:c}),at("p",null,"Image Scale Y: "),at("input",{className:"border mb-5",type:"number",value:null==f?void 0:f.fillPatternScaleY,step:.1,min:.1,max:1,onChange:u})),at("div",null,a.map((e,t)=>at("div",{key:t,className:"h-10 mt-5 mb-5 flex flex-wrap justify-center content-center"},at("p",{className:"w-48"},"Select ",e.name)," ",at("div",{className:"w-10 h-10 border border-black",style:{backgroundColor:e.color},onClick:()=>i(e.color)})))),at("div",{className:"sm:flex sm:items-start"},at(tt.SketchPicker,{width:"100%",color:null==f?void 0:f.fill,onChange:e=>i(e.hex)}))),at("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},at("div",{className:"flex justify-center"},at("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{l({accept:"image/png, image/jpg, image/jpeg",multiple:!1},({file:t})=>{const a=new FileReader;a.readAsDataURL(t),a.onload=()=>{n(t=>{const n=t.variations[r].elements.find(t=>t.id===e);n.fill="",n.patternImageUrl=a.result})}})}},"Insert image"))),at("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},at("b",null,"Gradient:"),at("div",{className:"grid grid-cols-2"},at("div",null,at("p",null,"Color 1"),at("div",{className:"sm:flex sm:items-start"},at(tt.SketchPicker,{width:"150px",color:null!=f&&f.fillLinearGradientColorStops?null==f?void 0:f.fillLinearGradientColorStops[1]:"#171717",onChange:e=>s(e.hex,null!=f&&f.fillLinearGradientColorStops?null==f?void 0:f.fillLinearGradientColorStops[3]:"#171717")}))),at("div",null,at("p",null,"Color 2"),at("div",{className:"sm:flex sm:items-start"},at(tt.SketchPicker,{width:"150px",color:null!=f&&f.fillLinearGradientColorStops?null==f?void 0:f.fillLinearGradientColorStops[3]:null==f?void 0:f.fill,onChange:e=>s(null!=f&&f.fillLinearGradientColorStops?null==f?void 0:f.fillLinearGradientColorStops[1]:null==f?void 0:f.fill,e.hex)}))))))},lt=a.a.createElement;var it=({selectedId:e,templateData:t,setTemplateData:n,variationIndex:a})=>{const{0:o,1:l}=Object(r.useState)("#171717"),i=t.variations[a].elements.find(t=>t.id===e),s=function(e){var t=X(e).getElementsByTagName("*");const n=[];for(const e of t){const t=G(e);t&&-1===n.indexOf(t)&&n.push(t)}return n}(i.svgString),c=i.colorMap,u=(t,r)=>{n(n=>{n.variations[a].elements.find(t=>t.id===e).colorMap[t]=r})};return lt("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},lt("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},lt("div",null,lt("p",null,"Select a color to edit"),s.map((e,t)=>lt("div",{key:t,className:"h-10 m-5 inline-block"},lt("div",{className:"w-10 h-10 border border-black",style:{backgroundColor:i.colorMap[e]||e},onClick:()=>l(e)})))),lt("div",{className:o?"":"hidden"},t.palette.map((e,t)=>lt("div",{key:t,className:"h-10 mt-5 mb-5 flex flex-wrap justify-center content-center"},lt("p",{className:"w-48"},"Select ",e.name)," ",lt("div",{className:"w-10 h-10 border border-black "+(o===e.color&&"opacity-50"),style:{backgroundColor:e.color},onClick:()=>u(o,e.color)})))),lt("div",{className:o?"sm:flex sm:items-start":"hidden"},lt(tt.SketchPicker,{width:"100%",color:c[o]||"#000000",onChange:e=>u(o,e.hex)}))))},st=a.a.createElement;var ct=({selectedId:e,unSelectAll:t,isOpenColorPicker:n,isEditTextBox:r,templateData:a,setTemplateData:o,variationIndex:l,handleEditSelectedItem:i,handleDeleteSelectedItem:s,handleCloseEditTextModal:c})=>st("div",{className:"h-screen overflow-y-scroll"},st("div",{className:"flex justify-center"},st("button",{onClick:i,className:"images"===(null==e?void 0:e.split("_")[0])?"hidden":"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Edit")),st("div",{className:"flex justify-center"},st("button",{onClick:s,className:"shapes_background"===e?"hidden":"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Delete")),st("div",{className:"flex justify-center"},st("button",{onClick:t,className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800"},"Close")),n&&"shapes"===(null==e?void 0:e.split("_")[0])&&st(ot,{selectedId:e,templateData:a,setTemplateData:o,variationIndex:l,currentPalette:a.palette}),n&&"svgs"===(null==e?void 0:e.split("_")[0])&&st(it,{selectedId:e,templateData:a,setTemplateData:o,variationIndex:l}),r&&st(rt,{selectedId:e,templateData:a,setTemplateData:o,variationIndex:l,handleCloseEditTextModal:c})),ut=n(4),dt=n(5),mt=n(12),ft=n(10),pt=n(6),gt=a.a.createElement;var bt=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","The template you selected might be corrupted","error").then(t)},[]),gt("div",{style:{width:_.j.width,height:_.j.height}},e.message)),ht=a.a.createElement;var vt=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with toolbar, try reloading the page.","error")},[]),ht("div",null,e.message)),yt=a.a.createElement;var xt=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with sidebar, try reloading the page.","error")},[]),yt("div",null,e.message)),wt=a.a.createElement;var Ot=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with sidebar, try reloading the page.","error").then(t)},[]),wt("div",null,e.message)),jt=a.a.createElement;var kt=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with save template modal, try refreshing the page.","error")},[]),jt("div",null,e.message)),Nt=a.a.createElement;var St=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong, try reloading the page.","error").then(t)},[]),Nt("div",null,e.message)),Ct=a.a.createElement;var Et=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{m()("Oops!","Something is wrong with editing tools, try reloading the page.","error").then(t)},[]),Ct("div",null,e.message)),Pt=a.a.createElement;function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=()=>{const e=Object(ut.useHistory)(),{0:t,1:n,2:{goForward:a,goBack:l,stepNum:s,history:c}}=Object(r.useContext)(o.b),{0:d,1:f}=Object(r.useState)(!1);let{templateID:p}=Object(ut.useParams)();const{data:g,error:b,isLoading:h}=Object(mt.useQuery)(["currentTemplate",p],()=>ft.a.getTemplateByID(p));Object(r.useEffect)(()=>{d||g&&!b&&(n(g),f(!0))},[g]);const{0:v,1:y}=Object(r.useState)(0),{0:x,1:w}=Object(r.useState)(!1),{0:O,1:j}=Object(r.useState)(null),{0:k,1:N}=Object(r.useState)(!1),{0:S,1:C}=Object(r.useState)(!1),{0:E,1:P}=Object(r.useState)(!1);Object(r.useEffect)(()=>{N(!1),C(!1)},[O]);const D=()=>{N(!1),C(!1),j(null)},I=e=>{"Escape"===e.key&&D()};Object(r.useEffect)(()=>(document.addEventListener("keydown",I,!1),H.a.load({google:{families:["Comfortaa","Josefin Sans","Euphoria Script","Oswald","Alfa Slab One","Bangers","Caveat","DM Sans","East Sea Dokdo","Homemade Apple","Kristi","Lobster Two","Maven Pro","Monoton","Montserrat","Playfair Display","Press Start 2P","Raleway","Roboto Slab","Shadows Into Light","Swanky and Moo Moo"]}}),()=>{document.removeEventListener("keydown",I,!1)}),[]);const T=()=>{"textBoxes"!==O.split("_")[0]?N(!0):C(!0)};return Pt("div",{className:"min-w-max bg-gray300 h-screen"},Pt("div",{className:"h-20 mb-5 flex flex-wrap justify-evenly content-center bg-gray900"},Pt("div",{className:"flex gap-2"},Pt(ut.NavLink,{to:dt.a.home,className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Back to Home"),Pt(ut.NavLink,{to:dt.a.select_palette,className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Select Palette")),Pt("p",{className:"text-xl text-white"},"Tempalte Design"),Pt("div",{className:"flex gap-2"},Pt("button",{onClick:()=>{P(!0)},className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Save Template"),Pt("button",{onClick:()=>{m()({title:"Are you sure?",text:"Do you want to delete this Template?",icon:"warning",buttons:["Cancel","Confirm"],dangerMode:!0}).then(async t=>{t&&(p?await ft.a.deleteTemplateByID(p):n(o.a),e.push(dt.a.home))})},className:"text-white font-semibold py-2 px-4 border border-red rounded"},"Delete Template"))),x&&Pt(pt.ErrorBoundary,{FallbackComponent:Ot,onReset:()=>{}},Pt(u,{templateData:t,handleSaveVariation:e=>{n(t=>{t.variations[v].name=e.name,t.variations[v].face=e.face}),w(!1)}})),E&&Pt(pt.ErrorBoundary,{FallbackComponent:kt,onReset:()=>{}},Pt(B,{templateData:t,handleSaveTemplate:async(n,r)=>{p?await ft.a.updateTemplateByID(p,It(It({},t),{},{tags:n,categoryId:r})):(await ft.a.addNewTemplate(It(It({},t),{},{tags:n,categoryId:r})),e.push(dt.a.home)),P(!1)}})),Pt("div",{className:"grid grid-cols-3 gap-4"},Pt(pt.ErrorBoundary,{FallbackComponent:xt,onReset:()=>{}},Pt(J,{variationIndex:v,setTemplateData:n})),Pt("div",null,Pt(pt.ErrorBoundary,{FallbackComponent:vt,onReset:()=>{}},Pt(K,{onUndo:()=>{j&&D(),s>0&&(v>0&&c[s].variations.length>c[s-1].variations.length&&y(v-1),l())},onRedo:()=>{j&&D(),s>0&&v>0&&c[s].variations.length>c[s+1].variations.length&&y(v-1),s<c.length-1&&a()},setTemplateData:n,variationIndex:v,selectedId:O,setSelectedId:j})),Pt("div",{className:"flex justify-center mt-5"},Pt(pt.ErrorBoundary,{FallbackComponent:bt,onReset:()=>e.push(dt.a.home)},Pt(et,{templateData:t,setTemplateData:n,variationIndex:v,selectedId:O,setSelectedId:j,unSelectAll:D,handleEditSelectedItem:T}))),Pt("div",{className:"flex justify-center mt-5"},Pt(pt.ErrorBoundary,{FallbackComponent:St,onReset:()=>{}},Pt(i,{variations:t.variations,variationIndex:v,setVariationIndex:y}))),Pt("div",{className:"flex justify-center"},Pt("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>w(!0)},"Save Variation"),Pt("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{t.variations.length<3?(n(e=>{e.variations.push(t.variations[v])}),y(e=>e+1)):m()("Cannot create more than 3 variations!")}},"Add New Variation"),Pt("button",{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800",onClick:()=>{const e=t.variations.length;m()({title:"Are you sure?",text:"Do you want to delete this variation?",icon:"warning",buttons:["Cancel","Confirm"],dangerMode:!0}).then(t=>{t&&n(e>1?t=>{t.variations.splice(v,1),v===e-1&&y(v-1)}:o.a)})}},"Delete variation"))),Pt("div",{className:O?"":"hidden"},Pt(pt.ErrorBoundary,{FallbackComponent:Et,onReset:()=>{}},Pt(ct,{selectedId:O,unSelectAll:D,isOpenColorPicker:k,isEditTextBox:S,templateData:t,setTemplateData:n,variationIndex:v,handleEditSelectedItem:T,handleDeleteSelectedItem:()=>{n(e=>{e.variations[v].elements=e.variations[v].elements.filter(e=>e.id!==O),D()})},handleCloseEditTextModal:()=>{C(!1)}})))))}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),l=n(4),i=n(3),s=n.n(i),c=a.a.createElement;var u=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{s()("Oops!","Encountered an error while loading categories. Try reloading page.","error").then(t)},[]),c("div",null,e.message)),d=a.a.createElement;var m=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{s()("Oops!","Encountered an error while loading categories. Try reloading page.","error").then(t)},[]),d("div",null,e.message)),f=n(5),p=n(11),g=n(15),b=a.a.createElement;var h=()=>{const{0:e,1:t}=Object(r.useState)(""),{categoriesList:n,error:o,isLoading:l}=Object(p.a)();if(l)return b(a.a.Fragment,null,b("p",null,"Getting all categories ..."));if(o)return b(a.a.Fragment,null,b("p",null,o.message));return b("div",{className:"space-y-4 p-5"},b("div",null,null==n?void 0:n.map((e,t)=>b("div",{className:"flex justify-between"},b("span",{key:t,className:"block"},e.name),b("button",{onClick:()=>(async e=>{s()({title:"Are you sure?",text:`Do you want to delete ${e.name}?`,icon:"warning",buttons:["Cancel","Confirm"],dangerMode:!0}).then(async t=>{if(t){const t=await g.a.deleteCategoryByID(e.id);console.log({res:t})}})})(e),className:"bg-red text-white rounded p-2 mt-2 mb-2"},"Delete")))),b("div",{className:"w-full"},b("div",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},b("div",{className:"mb-4"},b("label",{className:"block text-gray-700 text-sm font-bold mb-2"},"Category name"),b("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Enter category name",value:e,onChange:e=>t(e.target.value)})),b("div",{className:"flex items-center justify-between"},b("button",{onClick:async t=>{t.preventDefault();const n=await g.a.addNewCategory({name:e,templateList:[]});console.log({res:n})},className:"bg-lightGray hover:bg-gray900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"button"},"Add new Category")))))},v=a.a.createElement;var y=()=>v("div",{className:" flex justify-center items-center  w-full"},v("div",{className:"flex h-14 rounded-md border-bordercolor border justify-center items-center w-11/12 z-50"},v("button",null,v("span",{className:"w-auto flex justify-end items-center text-grey text-sm p-3"},v("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},v("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 2C3.79086 2 2 3.79086 2 6C2 8.20914 3.79086 10 6 10C8.20914 10 10 8.20914 10 6C10 3.79086 8.20914 2 6 2ZM0 6C0 2.68629 2.68629 0 6 0C9.31371 0 12 2.68629 12 6C12 7.29583 11.5892 8.49572 10.8907 9.47653L15.7071 14.2929C16.0976 14.6834 16.0976 15.3166 15.7071 15.7071C15.3166 16.0976 14.6834 16.0976 14.2929 15.7071L9.47653 10.8907C8.49572 11.5892 7.29583 12 6 12C2.68629 12 0 9.31371 0 6Z",fill:"#9CA3AF"})))),v("input",{className:"w-full rounded text-sm text-gray95 outline-none h-12 z-0 ",type:"text",placeholder:"Search anything from elements"}))),x=n(2),w=n(9),O=n(1),j=a.a.createElement;function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=({konvaItem:e,index:t})=>e?j(a.a.Fragment,null,"rectangle"===(null==e?void 0:e.type)&&j(x.Rect,k({key:t},e)),"circle"===(null==e?void 0:e.type)&&j(x.Circle,k({key:t},e)),"line"===(null==e?void 0:e.type)&&j(x.Line,k({key:t},e)),"polygon"===(null==e?void 0:e.type)&&j(x.RegularPolygon,k({key:t},e)),"svg"===(null==e?void 0:e.type)&&j(x.Image,k({key:t},e)),"image"===(null==e?void 0:e.type)&&j(x.Image,k({key:t},e)),"text"===(null==e?void 0:e.type)&&j(x.Text,k({key:t},e))):j(a.a.Fragment,null),S=a.a.createElement;var C=({templateObj:e})=>{var t,n;const a=Object(l.useHistory)(),{0:o,1:i}=Object(r.useContext)(w.b);return S("button",{onClick:()=>{i(e,!1),a.push("/tool/"+e.id)},className:"border-2  border-dashed rounded-md border-bordercolor justify-center items-center flex flex-col py-4 "},S(x.Stage,{width:.3*O.j.width,height:.3*O.j.height,scaleX:.3,scaleY:.3},S(x.Layer,{listening:!1},null==e||null===(t=e.variations[0])||void 0===t||null===(n=t.elements)||void 0===n?void 0:n.map((e,t)=>S(N,{key:t,konvaItem:e,index:t})))))},E=a.a.createElement;var P=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{s()("Oops!","Something is wrong with Search, try reloading the page.","error").then(t)},[]),E("div",null,e.message)),D=a.a.createElement;var I=({error:e,resetErrorBoundary:t})=>(Object(r.useEffect)(()=>{s()("Oops!","This Template might be corrupted","error").then(t)},[]),D("div",null,e.message)),T=n(12),F=n(10);var L=()=>{const{data:e,error:t,isLoading:n}=Object(T.useQuery)("templates",F.a.getAllTemplates);return{templateList:e,error:t,isLoading:n}},R=n(14),M=a.a.createElement;var A=()=>{const{templateList:e,error:t,isLoading:n}=L(),{categoriesList:l,error:i,isLoading:s}=Object(p.a)(),{0:c,1:u}=Object(r.useState)(null);return n?M(a.a.Fragment,null,M("p",null,"Getting all templates ...")):t?M(a.a.Fragment,null,M("p",null,t.message)):M("div",{className:"space-y-4 p-5"},M(a.a.Fragment,null,M("div",{className:"relative flex  h-full flex-col w-full  outline-none focus:outline-none"},M("div",{className:"flex"},M("div",{className:"flex items-start justify-between w-full p-5 border-b border-solid border-bordercolor rounded-t"},M("div",null,M("h3",{className:"text-2xl text-gray94 font-semibold"},"Select Template")),M("div",{className:"flex flex-row"},M("div",{className:"flex flex-row px-2 text-gray900 border-2 h-8 w border-bordercolor rounded-md  mr-2"},M("button",{className:"pr-2 text-sm"},"Most Popular "))))),M("div",{className:"w-full flex justify-center"},M("div",{className:"mt-3 w-3/6 "},M(o.ErrorBoundary,{FallbackComponent:P,onReset:()=>{}},M(y,null)))),M("div",{className:" flex gap-4 mt-3 px-6"},null==l?void 0:l.map((e,t)=>M("button",{key:t,onClick:()=>u(c?null:e),className:"rounded-md px-4 py-1 h-10 "+((null==c?void 0:c.id)===e.id?"text-white bg-indigo700":"bg-lightindigo text-indigo700 ")},Object(R.a)(e.name)))),M("div",null,M("h1",{className:"text-xl font-bold mt-6 px-6 text-gray94"},"Your Templates")),M("div",{className:"pl-6 mt-4 flex flex-row flex-wrap gap-4"},null==e?void 0:e.map((e,t)=>c?e.categoryId===c.id?M("div",{key:t},M(o.ErrorBoundary,{FallbackComponent:I,onReset:()=>{}},M(C,{templateObj:e}))):void 0:M("div",{key:t},M(o.ErrorBoundary,{FallbackComponent:I,onReset:()=>{}},M(C,{templateObj:e}))))))))},B=a.a.createElement;const _=["categories","templates"];t.default=()=>{const{0:e,1:t}=Object(r.useState)(_[0]);return B("div",{className:"min-w-max"},B("div",{className:"h-20 mb-5 flex flex-wrap justify-evenly content-center bg-gray900"},B("div",null),B("p",{className:"text-xl text-white"},"Home"),B(l.NavLink,{to:f.a.select_palette,className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Create New Template")),B("div",null,B("div",{className:"flex flex-no-wrap"},B("div",{style:{minHeight:"80vh"},className:"w-64 absolute sm:relative shadow flex-col justify-between flex"},B("div",{className:"p-8"},B("ul",{className:"mt-12"},B("li",{onClick:()=>t(_[0]),className:"flex w-full bg-gray300 justify-between hover:text-gray-900 cursor-pointer items-center mb-6"},B("div",{className:"flex items-center  hover:bg-rightbackgroundcolor  w-full hover:rounded-lg border-0 rounded-sm  h-10"},B("p",{className:"text-gray900 font-medium pl-3"},"Categories"))),B("li",{onClick:()=>t(_[1]),className:"flex w-full bg-gray300 justify-between text-gray900 hover:text-gray-900 cursor-pointer items-center mb-6"},B("div",{className:"flex items-center  hover:bg-rightbackgroundcolor  w-full hover:rounded-lg border-0 rounded-sm h-10"},B("p",{className:"text-gray900 font-medium pl-3"},"Templates")))))),B("div",{className:"container mx-auto py-10 md:w-4/5 w-11/12 px-6"},B("div",{className:"w-full h-full rounded border-dashed border-2 border-gray-300"},B("div",{className:e===_[0]?"":"hidden"},B(o.ErrorBoundary,{FallbackComponent:u,onReset:()=>{}},B(h,null))),B("div",{className:e===_[1]?"":"hidden"},B(o.ErrorBoundary,{FallbackComponent:m,onReset:()=>{}},B(A,null))))))))}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),l=n(5),i=n(9),s=n(8),c=a.a.createElement;var u=({currentSelectedColor:e,handleColorChange:t,handleCloseColorPicker:n})=>{const[r,o]=a.a.useState("#000000");a.a.useEffect(()=>{o(e)},[e]);return c("div",{className:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},c("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},c("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),c("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),c("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},c("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},c("div",{className:"sm:flex sm:items-start"},c(s.SketchPicker,{color:r,onChange:e=>o(e.hex)}))),c("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},c("button",{onClick:()=>{t(r),n()},type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"},"Done")))))},d=a.a.createElement;function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=()=>{const{0:e,1:t}=Object(r.useContext)(i.b),{0:n,1:a}=Object(r.useState)(!1),{0:s,1:c}=Object(r.useState)(null);return d("div",{className:"min-w-max"},n&&d(u,{currentSelectedColor:s.color,handleColorChange:e=>{t(t=>{const n=t.palette.findIndex(e=>e.name===(null==s?void 0:s.name));t.palette[n].color=e,c(f(f({},s),{},{color:e}))})},handleCloseColorPicker:()=>{a(!1)}}),d("div",{className:"h-20 mb-5 flex flex-wrap justify-evenly content-center bg-gray900"},d(o.NavLink,{to:l.a.home,className:"text-white font-semibold py-2 px-4 border border-white-500 rounded"},"Back to home"),d("p",{className:"text-xl text-white"},"Select Palette"),d("div",null)),"            ",e.palette.map((e,t)=>d("div",{key:t,className:"h-10 mt-5 mb-5 flex flex-wrap justify-center content-center"},d("p",{className:"w-48"},e.name)," ",d("div",{className:"w-10 h-10 border border-black",style:{backgroundColor:e.color},onClick:()=>{return t=e,a(!0),void c(t);var t}}))),d("div",{className:"flex justify-center"},d(o.NavLink,{className:"inline-flex items-center h-8 px-4 m-2 text-sm text-gray300 hover:text-gray900 transition-colors duration-150 bg-gray900 rounded-lg focus:shadow-outline hover:bg-bluish",to:"/tool"},"Proceed")))}}]);
//# sourceMappingURL=server.js.map