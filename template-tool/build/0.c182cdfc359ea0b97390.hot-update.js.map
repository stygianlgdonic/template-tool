{"version":3,"file":"0.c182cdfc359ea0b97390.hot-update.js","sources":["webpack:///./src/components/tailwindComponents/ShapeColorSelector.tsx"],"sourcesContent":["import React from 'react'\r\nimport { SketchPicker } from \"react-color\"\r\nimport { useFileUpload } from 'use-file-upload'\r\nimport { stageDimensions } from '../../utils/defaults'\r\n\r\ninterface Props {\r\n    selectedId: string\r\n    templateData: any\r\n    setTemplateData: any\r\n    variationIndex: number\r\n    currentPalette: { name: string, color: string }[]\r\n}\r\n\r\nconst ShapeColorSelector: React.FC<Props> = ({\r\n    selectedId,\r\n    templateData,\r\n    setTemplateData,\r\n    variationIndex,\r\n    currentPalette,\r\n}) => {\r\n    const [file, selectFile] = useFileUpload()\r\n\r\n    const handleFillImagePattern = () => {\r\n        selectFile({ accept: \"image/png, image/jpg, image/jpeg\", multiple: false },\r\n            ({ file }: any) => {\r\n\r\n                const reader = new FileReader();\r\n                reader.readAsDataURL(file);\r\n\r\n                reader.onload = () => {\r\n                    //base64encoded string => reader.result\r\n                    setTemplateData((prev) => {\r\n                        const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n                        selectedShape.fill = \"\"\r\n                        selectedShape.patternImageUrl = reader.result\r\n                    })\r\n                };\r\n            })\r\n    }\r\n\r\n    const handleStrokeWidthChange = e => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.strokeWidth = parseInt(e.target.value)\r\n        })\r\n    }\r\n\r\n    const handleCornerRadius = e => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.cornerRadius = parseInt(e.target.value)\r\n        })\r\n    }\r\n\r\n    const handleOpacity = e => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.opacity = parseFloat(e.target.value)\r\n        })\r\n    }\r\n\r\n    const handleStrokeColor = (color) => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.stroke = color.hex\r\n        })\r\n    }\r\n\r\n    const handleShapeFill = (color: string) => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.fill = color\r\n            selectedShape.patternImageUrl = undefined\r\n        })\r\n    }\r\n\r\n    const handleGradientColor = (color1: string, color2: string) => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.fill = \"\"\r\n            selectedShape.fillLinearGradientColorStops = [0, color1, 1, color2]\r\n            selectedShape.fillLinearGradientStartPoint = { x: 0, y: 0 }\r\n            selectedShape.fillLinearGradientEndPoint = {\r\n                x: selectedId === \"shapes_background\" ? stageDimensions.width : 100,\r\n                y: selectedId === \"shapes_background\" ? stageDimensions.height : 100\r\n            }\r\n            selectedShape.patternImageUrl = undefined\r\n        })\r\n    }\r\n\r\n    const handleFillPatternScaleX = (e) => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.fillPatternScaleX = parseFloat(e.target.value)\r\n        })\r\n    }\r\n\r\n    const handleFillPatternScaleY = (e) => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.fillPatternScaleY = parseFloat(e.target.value)\r\n        })\r\n    }\r\n\r\n    const handleFillPatternOffsetX = (e) => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.fillPatternOffsetX = parseInt(e.target.value)\r\n        })\r\n    }\r\n\r\n    const handleFillPatternOffsetY = (e) => {\r\n        setTemplateData(prev => {\r\n            const selectedShape = prev.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n            selectedShape.fillPatternOffsetY = parseInt(e.target.value)\r\n        })\r\n    }\r\n\r\n\r\n    const selectedShapeData = templateData.variations[variationIndex].elements.find(item => item.id === selectedId)\r\n\r\n    return (\r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n            <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div>\r\n                    <p>Border width: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        min={0}\r\n                        value={selectedShapeData?.strokeWidth}\r\n                        onChange={handleStrokeWidthChange}\r\n                    />\r\n                    <p>Corner radius:</p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        min={0}\r\n                        value={selectedShapeData?.cornerRadius}\r\n                        onChange={handleCornerRadius}\r\n                    />\r\n                    <p>Opacity: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        value={selectedShapeData?.opacity}\r\n                        step={0.1}\r\n                        min={0.1}\r\n                        max={1.0}\r\n                        onChange={handleOpacity}\r\n                    />\r\n                    <p>Image Scale X: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        step={0.1}\r\n                        value={selectedShapeData?.fillPatternScaleX}\r\n                        onChange={handleFillPatternScaleX}\r\n                    />\r\n                    <p>Image Scale Y: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        step={0.1}\r\n                        value={selectedShapeData?.fillPatternScaleY}\r\n                        onChange={handleFillPatternScaleY}\r\n                    />\r\n                    <p>Image offset X: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        step={10}\r\n                        value={selectedShapeData?.fillPatternOffsetX}\r\n                        onChange={handleFillPatternOffsetX}\r\n                    />\r\n                    <p>Image offset Y: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        step={10}\r\n                        value={selectedShapeData?.fillPatternOffsetY}\r\n                        onChange={handleFillPatternOffsetY}\r\n                    />\r\n                    <p>Borer color:</p>\r\n                    <SketchPicker\r\n                        width=\"150px\"\r\n                        color={selectedShapeData?.stroke}\r\n                        onChange={handleStrokeColor}\r\n                    />\r\n                </div>\r\n                <div className={!!selectedShapeData?.fillPatternImage ? \"\" : \"hidden\"}>\r\n                    <p>Image Offset X: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        value={selectedShapeData?.fillPatternOffsetX}\r\n                        step={0.1} min={0.1} max={1.0}\r\n                        onChange={handleFillPatternOffsetX}\r\n                    />\r\n                    <p>Image Offset Y: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        value={selectedShapeData?.fillPatternOffsetY}\r\n                        step={0.1} min={0.1} max={1.0}\r\n                        onChange={handleFillPatternOffsetY}\r\n                    />\r\n                    <p>Image Scale X: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        value={selectedShapeData?.fillPatternScaleX}\r\n                        step={0.1} min={0.1} max={1.0}\r\n                        onChange={handleFillPatternScaleX}\r\n                    />\r\n                    <p>Image Scale Y: </p>\r\n                    <input\r\n                        className=\"border mb-5\"\r\n                        type=\"number\"\r\n                        value={selectedShapeData?.fillPatternScaleY}\r\n                        step={0.1} min={0.1} max={1.0}\r\n                        onChange={handleFillPatternScaleY}\r\n                    />\r\n\r\n                </div>\r\n                <div>\r\n                    {currentPalette.map((item, index) => (\r\n                        <div key={index} className=\"h-10 mt-5 mb-5 flex flex-wrap justify-center content-center\" >\r\n                            <p className=\"w-48\">Select {item.name}</p> <div\r\n                                className=\"w-10 h-10 border border-black\"\r\n                                style={{ backgroundColor: item.color }}\r\n                                onClick={() => handleShapeFill(item.color)}\r\n                            ></div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"sm:flex sm:items-start\">\r\n                    <SketchPicker\r\n                        width=\"100%\"\r\n                        color={selectedShapeData?.fill}\r\n                        onChange={(color) => handleShapeFill(color.hex)}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div className=\"flex justify-center\">\r\n                    <button\r\n                        className=\"inline-flex items-center h-8 px-4 m-2 text-sm text-green-100 transition-colors duration-150 bg-green-700 rounded-lg focus:shadow-outline hover:bg-green-800\"\r\n                        onClick={handleFillImagePattern}\r\n                    >Insert image</button>\r\n                </div>\r\n            </div>\r\n            <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <b>Gradient:</b>\r\n                <div className=\"grid grid-cols-2\">\r\n                    <div>\r\n                        <p>Color 1</p>\r\n                        <div className=\"sm:flex sm:items-start\">\r\n                            <SketchPicker\r\n                                width=\"150px\"\r\n                                color={selectedShapeData?.fillLinearGradientColorStops ?\r\n                                    selectedShapeData?.fillLinearGradientColorStops[1] :\r\n                                    \"#171717\"}\r\n                                onChange={(color) => handleGradientColor(\r\n                                    color.hex,\r\n                                    selectedShapeData?.fillLinearGradientColorStops ?\r\n                                        selectedShapeData?.fillLinearGradientColorStops[3] :\r\n                                        \"#171717\")}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <p>Color 2</p>\r\n                        <div className=\"sm:flex sm:items-start\">\r\n                            <SketchPicker\r\n                                width=\"150px\"\r\n                                color={selectedShapeData?.fillLinearGradientColorStops ?\r\n                                    selectedShapeData?.fillLinearGradientColorStops[3] :\r\n                                    selectedShapeData?.fill}\r\n                                onChange={(color) => handleGradientColor(\r\n                                    selectedShapeData?.fillLinearGradientColorStops ?\r\n                                        selectedShapeData?.fillLinearGradientColorStops[1] :\r\n                                        selectedShapeData?.fill,\r\n                                    color.hex)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShapeColorSelector\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AASA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAGA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AACA;AACA;;;;A","sourceRoot":""}