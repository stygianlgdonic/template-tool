{"version":3,"file":"0.4e8ae93af51c0cef80d5.hot-update.js","sources":["webpack:///./src/components/tailwindComponents/SaveTemplate.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport swal from \"sweetalert\";\r\nimport plus from \"../../assets/svgs/plus.svg\";\r\nimport CustomTextField from \"./CustomTextField\";\r\nimport LoadingButton from \"./LoadingButton\";\r\nimport useSvg from \"../../utils/useSvg\";\r\nimport CustomSelect from \"./CustomSelect\";\r\nimport useCategoryList from \"../../hooks/useCategoryList\";\r\n\r\nconst svgPath = `  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />`;\r\n\r\ninterface Props {\r\n    templateData: any\r\n    handleSaveTemplate: (tags: string[], selectedCategory: string) => void\r\n}\r\n\r\nconst SaveTemplate: React.FC<Props> = ({ templateData, handleSaveTemplate }) => {\r\n    const [tagsList, setTagsList] = useState([]);\r\n    const [isFirstTag, setIsFirstTag] = useState(true);\r\n    const [tag, setTag] = useState(\"\");\r\n    const { categoriesList, error, isLoading } = useCategoryList()\r\n    const [selectedCategory, setSelectedCategory] = useState({ name: \"none\" })\r\n\r\n    useEffect(() => {\r\n        if (!!templateData.tags?.length) {\r\n            setTagsList(templateData.tags)\r\n        }\r\n    }, [])\r\n\r\n    const closeIcon = useSvg(\r\n        \"http://www.w3.org/2000/svg\",\r\n        \"0 0 24 24\",\r\n        \"white\",\r\n        \"#FF3C69\",\r\n        svgPath\r\n    );\r\n\r\n    const pushTagToTagsList = (tagName) => {\r\n        if (!tagName) {\r\n            return;\r\n        }\r\n        let checkExisting = tagsList.filter((currentTag) => currentTag == tagName);\r\n        if (checkExisting.length && !isFirstTag) {\r\n            swal({\r\n                title: \"Tag already added\",\r\n                icon: \"error\",\r\n            });\r\n        } else {\r\n            setTagsList([...tagsList, tagName]);\r\n            setIsFirstTag(false);\r\n        }\r\n    };\r\n    const removeFromTagsList = (index) => {\r\n        let newTagsList = [...tagsList];\r\n        newTagsList.splice(index, 1);\r\n        setTagsList(newTagsList);\r\n    };\r\n\r\n    const handleChangeTag = (e) => {\r\n        setTag(e.target.value);\r\n    };\r\n\r\n    const handlePushTag = () => {\r\n        pushTagToTagsList(tag);\r\n        setTag(\"\");\r\n    };\r\n\r\n    const handleKeyDown = (e) => {\r\n        if (e.key === \"Enter\") {\r\n            pushTagToTagsList(tag);\r\n            setTag(\"\");\r\n        }\r\n    };\r\n\r\n    const onCategoryChange = (val) => {\r\n        setSelectedCategory(val)\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        handleSaveTemplate(tagsList, selectedCategory)\r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed z-10 inset-0 overflow-y-auto\" aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\r\n            <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n                <div className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" aria-hidden=\"true\"></div>\r\n\r\n                <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\r\n\r\n                <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n                    <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                        <div className=\"h-96\">\r\n                            <div>\r\n                                <CustomTextField\r\n                                    label=\"Enter Tag\"\r\n                                    id=\"tagName\"\r\n                                    name=\"tagName\"\r\n                                    value={tag}\r\n                                    onChange={handleChangeTag}\r\n                                    placeholder=\"Enter tag\"\r\n                                    onKeyDown={handleKeyDown}\r\n                                    onClick={handlePushTag}\r\n                                    endIcon={plus}\r\n                                    className=\"relative  border border-grey appearance-none rounded w-full p-2 mt-0 focus:outline-none cursor-text\"\r\n                                />\r\n                                <div className=\"flex flex-grow flex-wrap flex-col\">\r\n                                    {tagsList.map((item, index) => (\r\n                                        <div key={index} className=\"flex justify-between rounded-3xl px-5 py-1 border-radicalRed border-2 mt-1 text-radicalRed \">\r\n                                            <p>{item}</p>\r\n                                            <img\r\n                                                onClick={() => removeFromTagsList(index)}\r\n                                                src={closeIcon}\r\n                                                alt=\"error\"\r\n                                                className=\"w-4  cursor-pointer \"\r\n                                            />\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <div className=\"z-20\" >\r\n                                    <CustomSelect\r\n                                        label=\"Select Category\"\r\n                                        value={selectedCategory}\r\n                                        onChange={onCategoryChange}\r\n                                        dataArray={categoriesList}\r\n                                    />\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bg-gray-50 px-4 py-3 sm:px-6 flex justify-between\">\r\n                        <div className=\"mt-2\">\r\n                            <LoadingButton\r\n                                loadingProps={{\r\n                                    size: 24,\r\n                                    style: { color: \"white\" },\r\n                                }}\r\n                                disableElevation\r\n                                onClick={onSubmit}\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                className=\"red-button\"\r\n                            >\r\n                                Close\r\n                            </LoadingButton>\r\n                        </div>\r\n                        <div className=\"mt-2\">\r\n                            <LoadingButton\r\n                                loadingProps={{\r\n                                    size: 24,\r\n                                    style: { color: \"white\" },\r\n                                }}\r\n                                disableElevation\r\n                                onClick={onSubmit}\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                color=\"secondary\"\r\n                                className=\"red-button\"\r\n                            >\r\n                                Save Template\r\n                            </LoadingButton>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n};\r\n\r\nexport default SaveTemplate;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAOA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AACA;AACA;;;;A","sourceRoot":""}