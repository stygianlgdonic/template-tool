{"version":3,"file":"1.02e7695aa5c751810b7c.hot-update.js","sources":["webpack:///./src/components/Home/components/CategoryList/index.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useQuery } from 'react-query'\r\nimport swal from 'sweetalert'\r\nimport { category_service } from '../../../../services/categoryService'\r\n\r\nconst CategoryList = () => {\r\n    const [newCategoryName, setNewCategoryName] = useState<string>(\"\")\r\n    const { data: categoriesList, error: categoryError, isLoading: categoryLoading } = useQuery<any, Error>(\"categories\", category_service.getAllCategories)\r\n\r\n    if (categoryLoading) {\r\n        return (\r\n            <>\r\n                <p>Getting all categories ...</p>\r\n            </>\r\n        )\r\n    }\r\n\r\n    if (!!categoryError) {\r\n        return (\r\n            <>\r\n                <p>{categoryError.message}</p>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const handleAddCategory = async (e) => {\r\n        e.preventDefault()\r\n        const res = await category_service.addNewCategory({ name: newCategoryName, templateList: [] })\r\n        console.log({ res })\r\n    }\r\n\r\n    const handleDeleteCategory = async (cat) => {\r\n        swal({\r\n            title: \"Are you sure?\",\r\n            text: `Do you want to delete ${cat.name}?`,\r\n            icon: \"warning\",\r\n            buttons: [\"Cancel\", \"Confirm\"],\r\n            dangerMode: true,\r\n        }).then(async (willDelete) => {\r\n            if (willDelete) {\r\n                const res = await category_service.deleteCategoryByID(cat.id)\r\n                console.log({ res })\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-4 p-5\">\r\n            <div>\r\n                {categoriesList?.map((cat) =>\r\n                    <div key={cat.id} className=\"flex justify-between\">\r\n                        <span className=\"block\">{cat.name}</span>\r\n                        <button onClick={() => handleDeleteCategory(cat)} className=\"bg-red text-white rounded p-2 mt-2 mb-2\">Delete</button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <div className=\"w-full\">\r\n                <div className=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\">\r\n                    <div className=\"mb-4\">\r\n                        <label className=\"block text-gray-700 text-sm font-bold mb-2\">\r\n                            Category name\r\n                        </label>\r\n                        <input\r\n                            className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\r\n                            id=\"username\"\r\n                            type=\"text\"\r\n                            placeholder=\"Enter category name\"\r\n                            value={newCategoryName}\r\n                            onChange={(e) => setNewCategoryName(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <button\r\n                            onClick={handleAddCategory}\r\n                            className=\"bg-lightGray hover:bg-gray900 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"\r\n                            type=\"button\"\r\n                        >\r\n                            Add new Category\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CategoryList\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AACA;;;;A","sourceRoot":""}