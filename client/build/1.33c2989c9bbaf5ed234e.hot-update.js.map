{"version":3,"file":"1.33c2989c9bbaf5ed234e.hot-update.js","sources":["webpack:///./src/services/templateService.ts"],"sourcesContent":["const secret_token = window.localStorage.getItem(\"Token\")\r\nconst URL_ENDPOINTS = {\r\n    getAllTemplatesURL: \"https://hyper-engage-staging.herokuapp.com/template\",\r\n    getTemplateByIdURL: \"https://hyper-engage-staging.herokuapp.com/template\",\r\n    createTemplateURL: \"https://hyper-engage-staging.herokuapp.com/template\",\r\n    updateTemplateByIdURL: \"https://hyper-engage-staging.herokuapp.com/template\",\r\n    deleteTemplateByIdURL: \"https://hyper-engage-staging.herokuapp.com/template\"\r\n}\r\n\r\nexport const template_service = {\r\n    getAllTemplates,\r\n    getAllTemplatesByTags,\r\n    addNewTemplate,\r\n    getTemplateByID,\r\n    updateTemplateByID,\r\n    deleteTemplateByID\r\n}\r\n\r\nasync function getAllTemplates() {\r\n    const response = await fetch(`${URL_ENDPOINTS.getAllTemplatesURL}?secret_token=${secret_token}`)\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while fetching Templates\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function getAllTemplatesByTags(tags: string[]) {\r\n    if (!!tags.length) {\r\n        let tagsString: string = \"\"\r\n        tags.map((item, i) => {\r\n            if (!(i === tags.length - 1)) {\r\n\r\n                tagsString = tagsString + item + \",\"\r\n            }\r\n            else {\r\n                tagsString = tagsString + item\r\n            }\r\n        })\r\n        console.log(tagsString)\r\n    }\r\n    console.log(`${URL_ENDPOINTS.getAllTemplatesURL}?secret_token=${secret_token}&tags=tagsString`)\r\n    const response = await fetch(`${URL_ENDPOINTS.getAllTemplatesURL}?secret_token=${secret_token}&tags=tagsString`)\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while fetching Templates\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function addNewTemplate(templateData: any) {\r\n    const response = await fetch(`${URL_ENDPOINTS.createTemplateURL}?secret_token=${secret_token}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(templateData)\r\n    })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while adding new template\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function getTemplateByID(templateID: string) {\r\n    const response = await fetch(`${URL_ENDPOINTS.getTemplateByIdURL}/${templateID}?secret_token=${secret_token}`)\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while fetching Templates\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function updateTemplateByID(templateID: string, templateData: any) {\r\n\r\n    console.log({ JSON: JSON.stringify(templateData), templateData })\r\n\r\n    const response = await fetch(`${URL_ENDPOINTS.updateTemplateByIdURL}/${templateID}?secret_token=${secret_token}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(templateData)\r\n    })\r\n    console.log({ response })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while updating template\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function deleteTemplateByID(templateID: string) {\r\n    const response = await fetch(`${URL_ENDPOINTS.deleteTemplateByIdURL}/${templateID}?secret_token=${secret_token}`, {\r\n        method: \"DELETE\",\r\n    })\r\n    console.log({ response })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while updating template\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\n"],"mappings":";;;;;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AALA;AACA;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AADA;AAGA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;A","sourceRoot":""}