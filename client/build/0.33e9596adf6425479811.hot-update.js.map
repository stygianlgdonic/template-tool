{"version":3,"file":"0.33e9596adf6425479811.hot-update.js","sources":["webpack:///./src/Screens/CreateCardLayout/CreateCardLayout.tsx","webpack:///./src/services/cardService.ts"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { DesignToolContext, INITIAL_STATE } from \"../../contexts/DesignToolContext\";\r\nimport { HeaderContext } from \"../../contexts/HeaderContext\";\r\nimport DesignTool from \"./components/DesignTool/DesigntTool\";\r\nimport Header from \"./components/Header/Header\";\r\nimport { useNavigate } from \"react-router-dom\"\r\nimport { card_service } from \"../../services/cardService\";\r\n\r\nlet document_title = \"Untitled design - Employees\";\r\n\r\nconst CreateCardLayout: React.FC = () => {\r\n  const navigate = useNavigate()\r\n  const [open, setOpen] = useContext(HeaderContext);\r\n  const { cardData, setCardData } = useContext(DesignToolContext)\r\n\r\n  // TODO - use this method for creating new card with selected dimensions\r\n  const createNewCard = (cardDimensions: { width: number, height: number }) => {\r\n    setCardData(prev => {\r\n      prev.dimensions = { ...cardDimensions }\r\n      prev.labels = []\r\n      prev.elements = [{\r\n        ...INITIAL_STATE.elements[0],\r\n        width: cardDimensions.width,\r\n        height: cardDimensions.height\r\n      }]\r\n    }, false)\r\n\r\n    navigate(\"/createcard\")\r\n\r\n  }\r\n\r\n  const handleSaveCard = async () => {\r\n    console.log({ cardData })\r\n    const res = await card_service.addNewCard(cardData)\r\n  }\r\n\r\n  return (\r\n    <div className=\"overflow-hidden \">\r\n      <div style={{ height: \"8vh\" }} className=\"\">\r\n        <Header\r\n          document_title={document_title}\r\n          createNewCard={createNewCard}\r\n          handleSaveCard={handleSaveCard}\r\n        />\r\n      </div>\r\n      <div className=\"relative\" style={{ height: \"88vh\" }}>\r\n        <DesignTool />\r\n        <div\r\n          className=\"absolute top-0 right-0 h-full bg-white w-14\"\r\n          style={{ paddingTop: \"54px\" }}\r\n        >\r\n          <div className=\"w-6 \"></div>\r\n          <button\r\n            onClick={() => setOpen(!open)}\r\n            className=\"flex items-center h-full pt-10 bg-canvasbgcolor \"\r\n            style={{ marginTop: \"7px\" }}\r\n          >\r\n            <div className=\"relative flex items-center w-10 h-20 pl-1 bg-white rounded-full rounded-r -right-6\">\r\n              <svg\r\n                className=\"w-3 h-3\"\r\n                width=\"13\"\r\n                height=\"22\"\r\n                viewBox=\"0 0 13 22\"\r\n                fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  d=\"M11 20L2 11L11 2\"\r\n                  stroke=\"#374151\"\r\n                  stroke-width=\"4\"\r\n                  stroke-linecap=\"round\"\r\n                  stroke-linejoin=\"round\"\r\n                />\r\n              </svg>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateCardLayout;\r\n","const URL_ENDPOINTS = {\r\n    getAllCardsURL: \"https://polar-tor-04971.herokuapp.com/card\",\r\n    getCardByIdURL: \"https://polar-tor-04971.herokuapp.com/card\",\r\n    createCardURL: \"https://polar-tor-04971.herokuapp.com/card\",\r\n    updateCardByIdURL: \"https://polar-tor-04971.herokuapp.com/card\",\r\n    deleteCardByIdURL: \"https://polar-tor-04971.herokuapp.com/card\"\r\n}\r\n\r\nexport const card_service = {\r\n    getAllCards,\r\n    addNewCard,\r\n    getCardByID,\r\n    updateCardByID,\r\n    deleteCardByID\r\n}\r\n\r\nasync function getAllCards() {\r\n    const response = await fetch(URL_ENDPOINTS.getAllCardsURL)\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while fetching Cards\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function addNewCard(cardData: any) {\r\n    const response = await fetch(URL_ENDPOINTS.createCardURL, {\r\n        method: \"POST\",\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(cardData)\r\n    })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while adding new card\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function getCardByID(cardID: string) {\r\n    const response = await fetch(`${URL_ENDPOINTS.getAllCardsURL}/${cardID}`)\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while fetching Cards\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function updateCardByID(cardID: string, cardData: any) {\r\n\r\n    console.log({ JSON: JSON.stringify(cardData), cardData })\r\n\r\n    const response = await fetch(`${URL_ENDPOINTS.updateCardByIdURL}/${cardID}`, {\r\n        method: \"PATCH\",\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(cardData)\r\n    })\r\n    console.log({ response })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while updating card\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\nasync function deleteCardByID(cardID: string) {\r\n    const response = await fetch(`${URL_ENDPOINTS.deleteCardByIdURL}/${cardID}`, {\r\n        method: \"DELETE\",\r\n    })\r\n    console.log({ response })\r\n    if (!response.ok) {\r\n        throw new Error(\"Error while updating card\")\r\n    }\r\n    return response.json()\r\n}\r\n\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAHA;AAKA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;;;;;;;;;;;;AClFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AALA;AACA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AALA;AACA;AAMA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AADA;AAGA;AALA;AAOA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;A","sourceRoot":""}